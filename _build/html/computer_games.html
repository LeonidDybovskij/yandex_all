
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Analysis of the computer games market &#8212; Data Science course</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'computer_games';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tariff recommendation" href="tariff_recommendation.html" />
    <link rel="prev" title="Tariff statistics" href="tariff_stats.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
  
    <p class="title logo__title">Data Science course</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Data Science course
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="credit_scoring.html">Credit scoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="real_estate_market_analysis.html">Real estate market analysis in St. Petersburg</a></li>
<li class="toctree-l1"><a class="reference internal" href="tariff_stats.html">Tariff statistics</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Analysis of the computer games market</a></li>
<li class="toctree-l1"><a class="reference internal" href="tariff_recommendation.html">Tariff recommendation</a></li>
<li class="toctree-l1"><a class="reference internal" href="supervised_classification.html">Customer churn</a></li>
<li class="toctree-l1"><a class="reference internal" href="oil_bootstrap.html">Selection of a location for a well</a></li>
<li class="toctree-l1"><a class="reference internal" href="gold_recovery.html">Gold recovery</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_transformation.html">Protection of customers’ personal data</a></li>

<li class="toctree-l1"><a class="reference internal" href="cars_boosting.html">Cars cost determination</a></li>
<li class="toctree-l1"><a class="reference internal" href="taxi_time_series.html">Taxi orders prediction</a></li>
<li class="toctree-l1"><a class="reference internal" href="text_classification.html">Classification of comments</a></li>
<li class="toctree-l1"><a class="reference internal" href="computer_vision.html">Age prediction by photo</a></li>
<li class="toctree-l1"><a class="reference internal" href="regression_metallurgy.html">Steel temperature prediction</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/computer_games.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Analysis of the computer games market</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-evaluation">Data evaluation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-preprocessing">Data preprocessing</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#missing-values">Missing values</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#total-sales">Total sales</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#check-for-duplicates">Check for duplicates</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exploratory-data-analysis">Exploratory data analysis</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#games-by-year">Games by year</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#games-by-platform">Games by platform</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sales-for-the-current-period">Sales for the current period</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sales-spread-by-platform">Sales spread by platform</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#correlation-between-scores-and-sales">Correlation between scores and sales</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sales-by-genre">Sales by genre</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sales-by-rating">Sales by rating</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#user-profiles">User profiles</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#north-america">North America</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#europe">Europe</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#japan">Japan</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#hypothesis-testing">Hypothesis testing</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-xone-and-pc-scores-are-the-same">The XOne and PC scores are the same.</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#action-and-sports-scores-are-different">Action and Sports scores are different.</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusions">Conclusions</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="analysis-of-the-computer-games-market">
<h1>Analysis of the computer games market<a class="headerlink" href="#analysis-of-the-computer-games-market" title="Link to this heading">#</a></h1>
<p>This project analyzes the computer games market for an online store. Historical data on game sales, user and expert evaluations, genres and platforms (e.g. Xbox or PlayStation) are available from open sources.</p>
<p>It is required to identify the patterns that determine the success of a game. This will allow to bet on a potentially popular product and plan advertising campaigns.</p>
<p>The data set includes the acronym ESRB (Entertainment Software Rating Board), which is an association that determines the age rating of computer games. The ESRB evaluates game content and assigns it an appropriate age category, such as “For Adults”, “For Young Children” or “For Teens”.</p>
<section id="data-evaluation">
<h2>Data evaluation<a class="headerlink" href="#data-evaluation" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sb</span>
<span class="kn">import</span> <span class="nn">scipy.stats</span> <span class="k">as</span> <span class="nn">st</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;games.csv&#39;</span><span class="p">)</span>
<span class="k">except</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;/datasets/games.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Name</th>
      <th>Platform</th>
      <th>Year_of_Release</th>
      <th>Genre</th>
      <th>NA_sales</th>
      <th>EU_sales</th>
      <th>JP_sales</th>
      <th>Other_sales</th>
      <th>Critic_Score</th>
      <th>User_Score</th>
      <th>Rating</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Wii Sports</td>
      <td>Wii</td>
      <td>2006.0</td>
      <td>Sports</td>
      <td>41.36</td>
      <td>28.96</td>
      <td>3.77</td>
      <td>8.45</td>
      <td>76.0</td>
      <td>8</td>
      <td>E</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Super Mario Bros.</td>
      <td>NES</td>
      <td>1985.0</td>
      <td>Platform</td>
      <td>29.08</td>
      <td>3.58</td>
      <td>6.81</td>
      <td>0.77</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Mario Kart Wii</td>
      <td>Wii</td>
      <td>2008.0</td>
      <td>Racing</td>
      <td>15.68</td>
      <td>12.76</td>
      <td>3.79</td>
      <td>3.29</td>
      <td>82.0</td>
      <td>8.3</td>
      <td>E</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Wii Sports Resort</td>
      <td>Wii</td>
      <td>2009.0</td>
      <td>Sports</td>
      <td>15.61</td>
      <td>10.93</td>
      <td>3.28</td>
      <td>2.95</td>
      <td>80.0</td>
      <td>8</td>
      <td>E</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Pokemon Red/Pokemon Blue</td>
      <td>GB</td>
      <td>1996.0</td>
      <td>Role-Playing</td>
      <td>11.27</td>
      <td>8.89</td>
      <td>10.22</td>
      <td>1.00</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<ul class="simple">
<li><p>Name — game name</p></li>
<li><p>Platform — name of the platform</p></li>
<li><p>Year_of_Release — year of release</p></li>
<li><p>Genre — game genre</p></li>
<li><p>NA_sales — sales in North America (millions of copies sold)</p></li>
<li><p>EU_sales — sales in Europe (millions of copies sold)</p></li>
<li><p>JP_sales — sales in Japan (millions of copies sold)</p></li>
<li><p>Other_sales — sales in other countries (millions of copies sold)</p></li>
<li><p>Critic_Score — critics’ score (maximum 100)</p></li>
<li><p>User_Score — user rating (maximum 10).</p></li>
<li><p>Rating — rating from the organization ESRB (Entertainment Software Rating Board). This association determines the rating of computer games and assigns them a suitable age category.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 16715 entries, 0 to 16714
Data columns (total 11 columns):
 #   Column           Non-Null Count  Dtype  
---  ------           --------------  -----  
 0   Name             16713 non-null  object 
 1   Platform         16715 non-null  object 
 2   Year_of_Release  16446 non-null  float64
 3   Genre            16713 non-null  object 
 4   NA_sales         16715 non-null  float64
 5   EU_sales         16715 non-null  float64
 6   JP_sales         16715 non-null  float64
 7   Other_sales      16715 non-null  float64
 8   Critic_Score     8137 non-null   float64
 9   User_Score       10014 non-null  object 
 10  Rating           9949 non-null   object 
dtypes: float64(6), object(5)
memory usage: 1.4+ MB
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Year_of_Release</th>
      <th>NA_sales</th>
      <th>EU_sales</th>
      <th>JP_sales</th>
      <th>Other_sales</th>
      <th>Critic_Score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>16446.000000</td>
      <td>16715.000000</td>
      <td>16715.000000</td>
      <td>16715.000000</td>
      <td>16715.000000</td>
      <td>8137.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>2006.484616</td>
      <td>0.263377</td>
      <td>0.145060</td>
      <td>0.077617</td>
      <td>0.047342</td>
      <td>68.967679</td>
    </tr>
    <tr>
      <th>std</th>
      <td>5.877050</td>
      <td>0.813604</td>
      <td>0.503339</td>
      <td>0.308853</td>
      <td>0.186731</td>
      <td>13.938165</td>
    </tr>
    <tr>
      <th>min</th>
      <td>1980.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>13.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>2003.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>60.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>2007.000000</td>
      <td>0.080000</td>
      <td>0.020000</td>
      <td>0.000000</td>
      <td>0.010000</td>
      <td>71.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>2010.000000</td>
      <td>0.240000</td>
      <td>0.110000</td>
      <td>0.040000</td>
      <td>0.030000</td>
      <td>79.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>2016.000000</td>
      <td>41.360000</td>
      <td>28.960000</td>
      <td>10.220000</td>
      <td>10.570000</td>
      <td>98.000000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<ul class="simple">
<li><p>The data seems to cover the period from 1980 to 2016.</p></li>
<li><p>The main categories for comparison are genres and platforms, as well as a breakdown by region.</p></li>
<li><p>There are many games with zero sales.</p></li>
<li><p>There are missing values in scores and age rating.</p></li>
</ul>
</section>
<section id="data-preprocessing">
<h2>Data preprocessing<a class="headerlink" href="#data-preprocessing" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;Name&#39;, &#39;Platform&#39;, &#39;Year_of_Release&#39;, &#39;Genre&#39;, &#39;NA_sales&#39;, &#39;EU_sales&#39;,
       &#39;JP_sales&#39;, &#39;Other_sales&#39;, &#39;Critic_Score&#39;, &#39;User_Score&#39;, &#39;Rating&#39;],
      dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Name&#39;</span><span class="p">:</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span> 
            <span class="s1">&#39;Platform&#39;</span><span class="p">:</span> <span class="s1">&#39;platform&#39;</span><span class="p">,</span> 
            <span class="s1">&#39;Year_of_Release&#39;</span><span class="p">:</span> <span class="s1">&#39;year&#39;</span><span class="p">,</span> 
            <span class="s1">&#39;Genre&#39;</span><span class="p">:</span> <span class="s1">&#39;genre&#39;</span><span class="p">,</span> 
            <span class="s1">&#39;NA_sales&#39;</span><span class="p">:</span> <span class="s1">&#39;NA_sales&#39;</span><span class="p">,</span> 
            <span class="s1">&#39;EU_sales&#39;</span><span class="p">:</span> <span class="s1">&#39;EU_sales&#39;</span><span class="p">,</span> 
            <span class="s1">&#39;JP_sales&#39;</span><span class="p">:</span> <span class="s1">&#39;JP_sales&#39;</span><span class="p">,</span> 
            <span class="s1">&#39;Other_sales&#39;</span><span class="p">:</span> <span class="s1">&#39;other_sales&#39;</span><span class="p">,</span> 
            <span class="s1">&#39;Critic_Score&#39;</span><span class="p">:</span> <span class="s1">&#39;critic_score&#39;</span><span class="p">,</span> 
            <span class="s1">&#39;User_Score&#39;</span><span class="p">:</span> <span class="s1">&#39;user_score&#39;</span><span class="p">,</span> 
            <span class="s1">&#39;Rating&#39;</span><span class="p">:</span> <span class="s1">&#39;rating&#39;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<section id="missing-values">
<h3>Missing values<a class="headerlink" href="#missing-values" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>name               2
platform           0
year             269
genre              2
NA_sales           0
EU_sales           0
JP_sales           0
other_sales        0
critic_score    8578
user_score      6701
rating          6766
dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isna</span><span class="p">()]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>platform</th>
      <th>year</th>
      <th>genre</th>
      <th>NA_sales</th>
      <th>EU_sales</th>
      <th>JP_sales</th>
      <th>other_sales</th>
      <th>critic_score</th>
      <th>user_score</th>
      <th>rating</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>659</th>
      <td>NaN</td>
      <td>GEN</td>
      <td>1993.0</td>
      <td>NaN</td>
      <td>1.78</td>
      <td>0.53</td>
      <td>0.00</td>
      <td>0.08</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>14244</th>
      <td>NaN</td>
      <td>GEN</td>
      <td>1993.0</td>
      <td>NaN</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.03</td>
      <td>0.00</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Two lines without data in the genre column can be sacrificed.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isna</span><span class="p">()]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>platform</th>
      <th>year</th>
      <th>genre</th>
      <th>NA_sales</th>
      <th>EU_sales</th>
      <th>JP_sales</th>
      <th>other_sales</th>
      <th>critic_score</th>
      <th>user_score</th>
      <th>rating</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>183</th>
      <td>Madden NFL 2004</td>
      <td>PS2</td>
      <td>NaN</td>
      <td>Sports</td>
      <td>4.26</td>
      <td>0.26</td>
      <td>0.01</td>
      <td>0.71</td>
      <td>94.0</td>
      <td>8.5</td>
      <td>E</td>
    </tr>
    <tr>
      <th>377</th>
      <td>FIFA Soccer 2004</td>
      <td>PS2</td>
      <td>NaN</td>
      <td>Sports</td>
      <td>0.59</td>
      <td>2.36</td>
      <td>0.04</td>
      <td>0.51</td>
      <td>84.0</td>
      <td>6.4</td>
      <td>E</td>
    </tr>
    <tr>
      <th>456</th>
      <td>LEGO Batman: The Videogame</td>
      <td>Wii</td>
      <td>NaN</td>
      <td>Action</td>
      <td>1.80</td>
      <td>0.97</td>
      <td>0.00</td>
      <td>0.29</td>
      <td>74.0</td>
      <td>7.9</td>
      <td>E10+</td>
    </tr>
    <tr>
      <th>475</th>
      <td>wwe Smackdown vs. Raw 2006</td>
      <td>PS2</td>
      <td>NaN</td>
      <td>Fighting</td>
      <td>1.57</td>
      <td>1.02</td>
      <td>0.00</td>
      <td>0.41</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>609</th>
      <td>Space Invaders</td>
      <td>2600</td>
      <td>NaN</td>
      <td>Shooter</td>
      <td>2.36</td>
      <td>0.14</td>
      <td>0.00</td>
      <td>0.03</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>16373</th>
      <td>PDC World Championship Darts 2008</td>
      <td>PSP</td>
      <td>NaN</td>
      <td>Sports</td>
      <td>0.01</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>43.0</td>
      <td>tbd</td>
      <td>E10+</td>
    </tr>
    <tr>
      <th>16405</th>
      <td>Freaky Flyers</td>
      <td>GC</td>
      <td>NaN</td>
      <td>Racing</td>
      <td>0.01</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>69.0</td>
      <td>6.5</td>
      <td>T</td>
    </tr>
    <tr>
      <th>16448</th>
      <td>Inversion</td>
      <td>PC</td>
      <td>NaN</td>
      <td>Shooter</td>
      <td>0.01</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>59.0</td>
      <td>6.7</td>
      <td>M</td>
    </tr>
    <tr>
      <th>16458</th>
      <td>Hakuouki: Shinsengumi Kitan</td>
      <td>PS3</td>
      <td>NaN</td>
      <td>Adventure</td>
      <td>0.01</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>16522</th>
      <td>Virtua Quest</td>
      <td>GC</td>
      <td>NaN</td>
      <td>Role-Playing</td>
      <td>0.01</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>55.0</td>
      <td>5.5</td>
      <td>T</td>
    </tr>
  </tbody>
</table>
<p>269 rows × 11 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[1980.0, 1981.0, 1982.0, 1983.0, 1984.0, 1985.0, 1986.0, 1987.0, 1988.0, 1989.0, 1990.0, 1991.0, 1992.0, 1993.0, 1994.0, 1995.0, 1996.0, 1997.0, 1998.0, 1999.0, 2000.0, 2001.0, 2002.0, 2003.0, 2004.0, 2005.0, 2006.0, 2007.0, 2008.0, 2009.0, 2010.0, 2011.0, 2012.0, 2013.0, 2014.0, 2015.0, 2016.0, nan]
</pre></div>
</div>
</div>
</div>
<p>These gaps cannot be replaced by zeros or a measure of central tendency. They do not represent a significant portion of the data either. Let’s move them into a separate dataset.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">years_na</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isna</span><span class="p">()]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year</th>
      <th>NA_sales</th>
      <th>EU_sales</th>
      <th>JP_sales</th>
      <th>other_sales</th>
      <th>critic_score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>16444.000000</td>
      <td>16444.000000</td>
      <td>16444.000000</td>
      <td>16444.000000</td>
      <td>16444.000000</td>
      <td>7983.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>2006.486256</td>
      <td>0.264012</td>
      <td>0.145930</td>
      <td>0.078487</td>
      <td>0.047594</td>
      <td>68.994363</td>
    </tr>
    <tr>
      <th>std</th>
      <td>5.875525</td>
      <td>0.818378</td>
      <td>0.506716</td>
      <td>0.311100</td>
      <td>0.188005</td>
      <td>13.920060</td>
    </tr>
    <tr>
      <th>min</th>
      <td>1980.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>13.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>2003.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>60.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>2007.000000</td>
      <td>0.080000</td>
      <td>0.020000</td>
      <td>0.000000</td>
      <td>0.010000</td>
      <td>71.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>2010.000000</td>
      <td>0.240000</td>
      <td>0.110000</td>
      <td>0.040000</td>
      <td>0.030000</td>
      <td>79.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>2016.000000</td>
      <td>41.360000</td>
      <td>28.960000</td>
      <td>10.220000</td>
      <td>10.570000</td>
      <td>98.000000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>The missing values in expert and user ratings could be replaced by an arithmetic mean, but that would throw off the statistics. It is difficult to predict what the game will be rated in the future.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;user_score&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">sort_index</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0         1
0.2       2
0.3       2
0.5       2
0.6       2
       ... 
9.4      11
9.5       5
9.6       2
9.7       1
tbd    2376
Name: user_score, Length: 96, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Here “tbd” stands for “to be determined”, meaning the score for these games has not yet been calculated.</p>
<p>Let’s see if there are patterns in the tbd distribution.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;user_score == &quot;tbd&quot;&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>platform</th>
      <th>year</th>
      <th>genre</th>
      <th>NA_sales</th>
      <th>EU_sales</th>
      <th>JP_sales</th>
      <th>other_sales</th>
      <th>critic_score</th>
      <th>user_score</th>
      <th>rating</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>119</th>
      <td>Zumba Fitness</td>
      <td>Wii</td>
      <td>2010</td>
      <td>Sports</td>
      <td>3.45</td>
      <td>2.59</td>
      <td>0.0</td>
      <td>0.66</td>
      <td>NaN</td>
      <td>tbd</td>
      <td>E</td>
    </tr>
    <tr>
      <th>301</th>
      <td>Namco Museum: 50th Anniversary</td>
      <td>PS2</td>
      <td>2005</td>
      <td>Misc</td>
      <td>2.08</td>
      <td>1.35</td>
      <td>0.0</td>
      <td>0.54</td>
      <td>61.0</td>
      <td>tbd</td>
      <td>E10+</td>
    </tr>
    <tr>
      <th>520</th>
      <td>Zumba Fitness 2</td>
      <td>Wii</td>
      <td>2011</td>
      <td>Sports</td>
      <td>1.51</td>
      <td>1.03</td>
      <td>0.0</td>
      <td>0.27</td>
      <td>NaN</td>
      <td>tbd</td>
      <td>T</td>
    </tr>
    <tr>
      <th>645</th>
      <td>uDraw Studio</td>
      <td>Wii</td>
      <td>2010</td>
      <td>Misc</td>
      <td>1.65</td>
      <td>0.57</td>
      <td>0.0</td>
      <td>0.20</td>
      <td>71.0</td>
      <td>tbd</td>
      <td>E</td>
    </tr>
    <tr>
      <th>718</th>
      <td>Just Dance Kids</td>
      <td>Wii</td>
      <td>2010</td>
      <td>Misc</td>
      <td>1.52</td>
      <td>0.54</td>
      <td>0.0</td>
      <td>0.18</td>
      <td>NaN</td>
      <td>tbd</td>
      <td>E</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>16695</th>
      <td>Planet Monsters</td>
      <td>GBA</td>
      <td>2001</td>
      <td>Action</td>
      <td>0.01</td>
      <td>0.00</td>
      <td>0.0</td>
      <td>0.00</td>
      <td>67.0</td>
      <td>tbd</td>
      <td>E</td>
    </tr>
    <tr>
      <th>16697</th>
      <td>Bust-A-Move 3000</td>
      <td>GC</td>
      <td>2003</td>
      <td>Puzzle</td>
      <td>0.01</td>
      <td>0.00</td>
      <td>0.0</td>
      <td>0.00</td>
      <td>53.0</td>
      <td>tbd</td>
      <td>E</td>
    </tr>
    <tr>
      <th>16698</th>
      <td>Mega Brain Boost</td>
      <td>DS</td>
      <td>2008</td>
      <td>Puzzle</td>
      <td>0.01</td>
      <td>0.00</td>
      <td>0.0</td>
      <td>0.00</td>
      <td>48.0</td>
      <td>tbd</td>
      <td>E</td>
    </tr>
    <tr>
      <th>16704</th>
      <td>Plushees</td>
      <td>DS</td>
      <td>2008</td>
      <td>Simulation</td>
      <td>0.01</td>
      <td>0.00</td>
      <td>0.0</td>
      <td>0.00</td>
      <td>NaN</td>
      <td>tbd</td>
      <td>E</td>
    </tr>
    <tr>
      <th>16706</th>
      <td>Men in Black II: Alien Escape</td>
      <td>GC</td>
      <td>2003</td>
      <td>Shooter</td>
      <td>0.01</td>
      <td>0.00</td>
      <td>0.0</td>
      <td>0.00</td>
      <td>NaN</td>
      <td>tbd</td>
      <td>T</td>
    </tr>
  </tbody>
</table>
<p>2376 rows × 11 columns</p>
</div></div></div>
</div>
<p><a id='tbd'></a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">year_stat</span> <span class="o">=</span> <span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;user_score != &quot;tbd&quot;&#39;</span><span class="p">)[</span><span class="s1">&#39;year&#39;</span><span class="p">]</span>
             <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">to_frame</span><span class="p">(</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>
             <span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;user_score == &quot;tbd&quot;&#39;</span><span class="p">)[</span><span class="s1">&#39;year&#39;</span><span class="p">]</span>
                   <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">to_frame</span><span class="p">(</span><span class="s1">&#39;tbd&#39;</span><span class="p">)))</span><span class="o">.</span><span class="n">sort_index</span><span class="p">()</span>
<span class="c1"># year_stat.index = year_stat.index.year</span>
<span class="n">year_stat</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> 
                               <span class="n">stacked</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
                               <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Set1&#39;</span><span class="p">,</span> 
                               <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> 
                               <span class="n">width</span><span class="o">=</span><span class="mf">0.9</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Number of games with a tag &quot;to be determined&quot;&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/29d221df2365abf94615a860d6399f420aff288f19f844758a403ce2e39e146f.png" src="_images/29d221df2365abf94615a860d6399f420aff288f19f844758a403ce2e39e146f.png" />
</div>
</div>
<p>Apparently the year of release affects whether the user rating is determined.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">genre_stat</span> <span class="o">=</span> <span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;user_score != &quot;tbd&quot;&#39;</span><span class="p">)[</span><span class="s1">&#39;genre&#39;</span><span class="p">]</span>
             <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">to_frame</span><span class="p">(</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>
             <span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;user_score == &quot;tbd&quot;&#39;</span><span class="p">)[</span><span class="s1">&#39;genre&#39;</span><span class="p">]</span>
                   <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">to_frame</span><span class="p">(</span><span class="s1">&#39;tbd&#39;</span><span class="p">)))</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>
<span class="n">genre_stat</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;barh&#39;</span><span class="p">,</span> 
                               <span class="n">stacked</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
                               <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Set1&#39;</span><span class="p">,</span> 
                               <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> 
                               <span class="n">width</span><span class="o">=</span><span class="mf">0.9</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/0ec920599d4a9d3eb90ca4de7204639feee0abad87f08a268bb94e077c579bac.png" src="_images/0ec920599d4a9d3eb90ca4de7204639feee0abad87f08a268bb94e077c579bac.png" />
</div>
</div>
<p>Genre doesn’t seem to matter.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">platform_stat</span> <span class="o">=</span> <span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;user_score != &quot;tbd&quot;&#39;</span><span class="p">)[</span><span class="s1">&#39;platform&#39;</span><span class="p">]</span>
             <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">to_frame</span><span class="p">(</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>
             <span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;user_score == &quot;tbd&quot;&#39;</span><span class="p">)[</span><span class="s1">&#39;platform&#39;</span><span class="p">]</span>
                   <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">to_frame</span><span class="p">(</span><span class="s1">&#39;tbd&#39;</span><span class="p">)))</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>
<span class="n">platform_stat</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;barh&#39;</span><span class="p">,</span> 
                               <span class="n">stacked</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
                               <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Set1&#39;</span><span class="p">,</span> 
                               <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> 
                               <span class="n">width</span><span class="o">=</span><span class="mf">0.9</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/e15b0e6c9f4eb7ed72f8c8286d913afcd1d4d87acfc493282cff9dbfe2ae4d37.png" src="_images/e15b0e6c9f4eb7ed72f8c8286d913afcd1d4d87acfc493282cff9dbfe2ae4d37.png" />
</div>
</div>
<p>There are regularities, but it is hard to draw conclusions from them.</p>
<p>Essentially, “To Be Determined” is no different than a <code class="docutils literal notranslate"><span class="pre">NaN</span></code>. Let’s substitute.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;tbd&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">NaN</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;user_score&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;user_score&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>name               0
platform           0
year               0
genre              0
NA_sales           0
EU_sales           0
JP_sales           0
other_sales        0
critic_score    8461
user_score      8981
rating          6676
dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>platform</th>
      <th>year</th>
      <th>genre</th>
      <th>NA_sales</th>
      <th>EU_sales</th>
      <th>JP_sales</th>
      <th>other_sales</th>
      <th>critic_score</th>
      <th>user_score</th>
      <th>rating</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>16710</th>
      <td>Samurai Warriors: Sanada Maru</td>
      <td>PS3</td>
      <td>2016</td>
      <td>Action</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.01</td>
      <td>0.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>16711</th>
      <td>LMA Manager 2007</td>
      <td>X360</td>
      <td>2006</td>
      <td>Sports</td>
      <td>0.00</td>
      <td>0.01</td>
      <td>0.00</td>
      <td>0.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>16712</th>
      <td>Haitaka no Psychedelica</td>
      <td>PSV</td>
      <td>2016</td>
      <td>Adventure</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.01</td>
      <td>0.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>16713</th>
      <td>Spirits &amp; Spells</td>
      <td>GBA</td>
      <td>2003</td>
      <td>Platform</td>
      <td>0.01</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>16714</th>
      <td>Winning Post 8 2016</td>
      <td>PSV</td>
      <td>2016</td>
      <td>Simulation</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.01</td>
      <td>0.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;rating&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([&#39;E&#39;, nan, &#39;M&#39;, &#39;T&#39;, &#39;E10+&#39;, &#39;K-A&#39;, &#39;AO&#39;, &#39;EC&#39;, &#39;RP&#39;], dtype=object)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;rating&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;rating&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s1">&#39;unknown&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Given that there are 16715 rows in the data:</p>
<ul class="simple">
<li><p>279 rows with missing values in release year or genre have been removed from the data</p></li>
<li><p>Gaps in rating values remained unchanged</p></li>
<li><p>The “to be determined” values for user ratings have been replaced by a standard <code class="docutils literal notranslate"><span class="pre">NaN</span></code>.</p></li>
<li><p>Gaps in age rating values have been replaced with a generalized “unknown” category.</p></li>
</ul>
</section>
<section id="total-sales">
<h3>Total sales<a class="headerlink" href="#total-sales" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;sales&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;NA_sales&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;EU_sales&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;JP_sales&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;other_sales&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
Int64Index: 16444 entries, 0 to 16714
Data columns (total 12 columns):
 #   Column        Non-Null Count  Dtype  
---  ------        --------------  -----  
 0   name          16444 non-null  object 
 1   platform      16444 non-null  object 
 2   year          16444 non-null  int64  
 3   genre         16444 non-null  object 
 4   NA_sales      16444 non-null  float64
 5   EU_sales      16444 non-null  float64
 6   JP_sales      16444 non-null  float64
 7   other_sales   16444 non-null  float64
 8   critic_score  7983 non-null   float64
 9   user_score    7463 non-null   float64
 10  rating        16444 non-null  object 
 11  sales         16444 non-null  float64
dtypes: float64(7), int64(1), object(4)
memory usage: 1.6+ MB
</pre></div>
</div>
</div>
</div>
</section>
<section id="check-for-duplicates">
<h3>Check for duplicates<a class="headerlink" href="#check-for-duplicates" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">duplicated</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="exploratory-data-analysis">
<h2>Exploratory data analysis<a class="headerlink" href="#exploratory-data-analysis" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>platform</th>
      <th>year</th>
      <th>genre</th>
      <th>NA_sales</th>
      <th>EU_sales</th>
      <th>JP_sales</th>
      <th>other_sales</th>
      <th>critic_score</th>
      <th>user_score</th>
      <th>rating</th>
      <th>sales</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Wii Sports</td>
      <td>Wii</td>
      <td>2006</td>
      <td>Sports</td>
      <td>41.36</td>
      <td>28.96</td>
      <td>3.77</td>
      <td>8.45</td>
      <td>76.0</td>
      <td>8.0</td>
      <td>E</td>
      <td>82.54</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Super Mario Bros.</td>
      <td>NES</td>
      <td>1985</td>
      <td>Platform</td>
      <td>29.08</td>
      <td>3.58</td>
      <td>6.81</td>
      <td>0.77</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>unknown</td>
      <td>40.24</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Mario Kart Wii</td>
      <td>Wii</td>
      <td>2008</td>
      <td>Racing</td>
      <td>15.68</td>
      <td>12.76</td>
      <td>3.79</td>
      <td>3.29</td>
      <td>82.0</td>
      <td>8.3</td>
      <td>E</td>
      <td>35.52</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Wii Sports Resort</td>
      <td>Wii</td>
      <td>2009</td>
      <td>Sports</td>
      <td>15.61</td>
      <td>10.93</td>
      <td>3.28</td>
      <td>2.95</td>
      <td>80.0</td>
      <td>8.0</td>
      <td>E</td>
      <td>32.77</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Pokemon Red/Pokemon Blue</td>
      <td>GB</td>
      <td>1996</td>
      <td>Role-Playing</td>
      <td>11.27</td>
      <td>8.89</td>
      <td>10.22</td>
      <td>1.00</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>unknown</td>
      <td>31.38</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>16439</th>
      <td>Samurai Warriors: Sanada Maru</td>
      <td>PS3</td>
      <td>2016</td>
      <td>Action</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.01</td>
      <td>0.00</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>unknown</td>
      <td>0.01</td>
    </tr>
    <tr>
      <th>16440</th>
      <td>LMA Manager 2007</td>
      <td>X360</td>
      <td>2006</td>
      <td>Sports</td>
      <td>0.00</td>
      <td>0.01</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>unknown</td>
      <td>0.01</td>
    </tr>
    <tr>
      <th>16441</th>
      <td>Haitaka no Psychedelica</td>
      <td>PSV</td>
      <td>2016</td>
      <td>Adventure</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.01</td>
      <td>0.00</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>unknown</td>
      <td>0.01</td>
    </tr>
    <tr>
      <th>16442</th>
      <td>Spirits &amp; Spells</td>
      <td>GBA</td>
      <td>2003</td>
      <td>Platform</td>
      <td>0.01</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>unknown</td>
      <td>0.01</td>
    </tr>
    <tr>
      <th>16443</th>
      <td>Winning Post 8 2016</td>
      <td>PSV</td>
      <td>2016</td>
      <td>Simulation</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.01</td>
      <td>0.00</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>unknown</td>
      <td>0.01</td>
    </tr>
  </tbody>
</table>
<p>16444 rows × 12 columns</p>
</div></div></div>
</div>
<section id="games-by-year">
<h3>Games by year<a class="headerlink" href="#games-by-year" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">sort_index</span><span class="p">()</span><span class="o">.</span><span class="n">index</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Int64Index([1980, 1981, 1982, 1983, 1984, 1985, 1986, 1987, 1988, 1989, 1990,
            1991, 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001,
            2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012,
            2013, 2014, 2015, 2016],
           dtype=&#39;int64&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># fig, ax = plt.subplots()</span>
<span class="n">fig</span> <span class="o">=</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">]</span>
       <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
       <span class="o">.</span><span class="n">sort_index</span><span class="p">()</span>
       <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">rot</span><span class="o">=</span><span class="mi">45</span><span class="p">))</span>
<span class="c1"># ax.set_xticklabels(data[&#39;year&#39;].value_counts().sort_index().index.year)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/b7931b82c9dc643eef7f127b2b32214f353d03f8c0a3d7ea7cf88b027bac4c2e.png" src="_images/b7931b82c9dc643eef7f127b2b32214f353d03f8c0a3d7ea7cf88b027bac4c2e.png" />
</div>
</div>
<p>Since the 90’s more games have been released.</p>
</section>
<section id="games-by-platform">
<h3>Games by platform<a class="headerlink" href="#games-by-platform" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;platform&#39;</span><span class="p">]</span>
       <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
       <span class="o">.</span><span class="n">sort_values</span><span class="p">()</span>
       <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;barh&#39;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Number of games&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/f33464aa7f3fc5e69c5114c718c7cef9c3759020b555adc2aa1db7aed3bd30c9.png" src="_images/f33464aa7f3fc5e69c5114c718c7cef9c3759020b555adc2aa1db7aed3bd30c9.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="p">(</span><span class="n">data</span>
       <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;platform&#39;</span><span class="p">)[</span><span class="s1">&#39;sales&#39;</span><span class="p">]</span>
       <span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="s1">&#39;sum&#39;</span><span class="p">)</span>
       <span class="o">.</span><span class="n">sort_values</span><span class="p">()</span>
       <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;barh&#39;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Total sales (millions)&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/db17abf443905d5b7a33242eeccfb35fb279c6d86dfa711968c83674ab70bd44.png" src="_images/db17abf443905d5b7a33242eeccfb35fb279c6d86dfa711968c83674ab70bd44.png" />
</div>
</div>
<p>It’s far easier to identify favorites here.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">stat_by_platform</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;platform&#39;</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="s1">&#39;sales&#39;</span><span class="p">:</span> <span class="s1">&#39;sum&#39;</span><span class="p">})</span>
<span class="n">stat_by_platform</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>name</th>
      <th>sales</th>
    </tr>
    <tr>
      <th>platform</th>
      <th>year</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="5" valign="top">2600</th>
      <th>1980</th>
      <td>9</td>
      <td>11.38</td>
    </tr>
    <tr>
      <th>1981</th>
      <td>46</td>
      <td>35.68</td>
    </tr>
    <tr>
      <th>1982</th>
      <td>36</td>
      <td>28.88</td>
    </tr>
    <tr>
      <th>1983</th>
      <td>11</td>
      <td>5.84</td>
    </tr>
    <tr>
      <th>1984</th>
      <td>1</td>
      <td>0.27</td>
    </tr>
    <tr>
      <th>...</th>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>XB</th>
      <th>2008</th>
      <td>1</td>
      <td>0.18</td>
    </tr>
    <tr>
      <th rowspan="4" valign="top">XOne</th>
      <th>2013</th>
      <td>19</td>
      <td>18.96</td>
    </tr>
    <tr>
      <th>2014</th>
      <td>61</td>
      <td>54.07</td>
    </tr>
    <tr>
      <th>2015</th>
      <td>80</td>
      <td>60.14</td>
    </tr>
    <tr>
      <th>2016</th>
      <td>87</td>
      <td>26.15</td>
    </tr>
  </tbody>
</table>
<p>238 rows × 2 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;platform&#39;</span><span class="p">)[</span><span class="s1">&#39;sales&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;PS2&#39;, &#39;X360&#39;, &#39;PS3&#39;, &#39;Wii&#39;, &#39;DS&#39;, &#39;PS&#39;], dtype=&#39;object&#39;, name=&#39;platform&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">platform</span> <span class="ow">in</span> <span class="p">(</span><span class="n">data</span>
                 <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;platform&#39;</span><span class="p">)[</span><span class="s1">&#39;sales&#39;</span><span class="p">]</span>
                 <span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
                 <span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="p">):</span>
    <span class="c1"># fig, ax = plt.subplots()</span>
    <span class="n">stat_by_platform</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">platform</span><span class="p">][</span><span class="s1">&#39;sales&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> 
                                                 <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> 
                                                 <span class="n">width</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> 
                                                 <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> 
                                                 <span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="c1"># ax.set_xticklabels(stat_by_platform.loc[platform].index.year)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Platform: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">platform</span><span class="p">),</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/5858666a322ece8bf64d046ca8e62264fd37b1caa949bbae5e64f10f8159c3ba.png" src="_images/5858666a322ece8bf64d046ca8e62264fd37b1caa949bbae5e64f10f8159c3ba.png" />
<img alt="_images/8f7eca285ef4f22ff6fc303622684f16094e4873d649729714c4ae14fe8d6fe0.png" src="_images/8f7eca285ef4f22ff6fc303622684f16094e4873d649729714c4ae14fe8d6fe0.png" />
<img alt="_images/b715f8997734e74ae5bac7926ecd935583600326a4656e9d6947f6e18f585abe.png" src="_images/b715f8997734e74ae5bac7926ecd935583600326a4656e9d6947f6e18f585abe.png" />
<img alt="_images/abdd9b4fff311fba2cda8c7bf7410e6e590fb123df6fee9952255d08d7589e0d.png" src="_images/abdd9b4fff311fba2cda8c7bf7410e6e590fb123df6fee9952255d08d7589e0d.png" />
<img alt="_images/0e46a04eb1a8bb2b9e6e70720b77158d0d9cce511f14ec8ad879f93f42a0d2c8.png" src="_images/0e46a04eb1a8bb2b9e6e70720b77158d0d9cce511f14ec8ad879f93f42a0d2c8.png" />
<img alt="_images/40f5fc3a19311fa1dff238444b6d696f425a35a21eaf36cdaa6b9c3c5576fe26.png" src="_images/40f5fc3a19311fa1dff238444b6d696f425a35a21eaf36cdaa6b9c3c5576fe26.png" />
</div>
</div>
<p>Or on the same chart: <a id='platfroms'></a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">platform</span> <span class="ow">in</span> <span class="p">(</span><span class="n">data</span>
                 <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;platform&#39;</span><span class="p">)[</span><span class="s1">&#39;sales&#39;</span><span class="p">]</span>
                 <span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
                 <span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="p">):</span>
    <span class="p">(</span><span class="n">stat_by_platform</span>
     <span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;year &gt;= 1994&#39;</span><span class="p">)</span>
     <span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">platform</span><span class="p">][</span><span class="s1">&#39;sales&#39;</span><span class="p">]</span>
     <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">,</span> 
           <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> 
           <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> 
           <span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> 
           <span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
           <span class="n">label</span><span class="o">=</span><span class="n">platform</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Total sales (millions)&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;sales&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/be102b5acd9645c6c703dbc3291f37236a2cd30d71446806c3dc30f2c42b5a48.png" src="_images/be102b5acd9645c6c703dbc3291f37236a2cd30d71446806c3dc30f2c42b5a48.png" />
</div>
</div>
<p>Most platforms stay popular for 6 years. Some are valid for up to 8 years.</p>
</section>
<section id="sales-for-the-current-period">
<h3>Sales for the current period<a class="headerlink" href="#sales-for-the-current-period" title="Link to this heading">#</a></h3>
<p>Based on the number of games with uncertain ratings shown in <a class="reference internal" href="#tbd"><span class="xref myst">graph</span></a>, let’s choose the current period.</p>
<p>There is a downturn in the data after 2011, although it is unlikely that fewer games have been released. It seems more plausible that they haven’t made it to our online store yet.</p>
<p>On the other hand, before 2002 the industry was different and fewer games were released, which is confirmed by the distribution by platforms.</p>
<p>It would be reasonable to split the graph into 1980-2001, 2002-2011 and 2012-2016, taking the actual period <strong>from 2012 to 2016</strong>. The data is likely incomplete and not necessarily representative, but it should reflect market trends.</p>
<p>In order to choose this segment more precisely, let’s look at all platforms and select the newest ones. Let’s take a cutoff for them, so that the comparison is equal and relevant.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">platform</span> <span class="ow">in</span> <span class="p">(</span><span class="n">stat_by_platform</span>
                 <span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;year &gt;= 1994&#39;</span><span class="p">)</span>
                 <span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="s1">&#39;platform&#39;</span><span class="p">)):</span>
    <span class="p">(</span><span class="n">stat_by_platform</span>
     <span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;year &gt;= 1994&#39;</span><span class="p">)</span>
     <span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">platform</span><span class="p">][</span><span class="s1">&#39;sales&#39;</span><span class="p">]</span>
     <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">,</span> 
           <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> 
           <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> 
           <span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> 
           <span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
           <span class="n">label</span><span class="o">=</span><span class="n">platform</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Total sales (millions)&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;sales&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/f72cee3561e42907222779a08c5fe3e48044be1752043d4b86a3a56cfee28aff.png" src="_images/f72cee3561e42907222779a08c5fe3e48044be1752043d4b86a3a56cfee28aff.png" />
</div>
</div>
<p>It is now evident that new platforms have emerged.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># plt.style.use(&#39;default&#39;)</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="k">for</span> <span class="n">platform</span> <span class="ow">in</span> <span class="p">(</span><span class="n">stat_by_platform</span>
                 <span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;year &gt;= 2012&#39;</span><span class="p">)</span>
                 <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;platform&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
                 <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;sales&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
                 <span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="p">):</span>  
    <span class="p">(</span><span class="n">stat_by_platform</span>
     <span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;year &gt;= 2012&#39;</span><span class="p">)</span>
     <span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">platform</span><span class="p">][</span><span class="s1">&#39;sales&#39;</span><span class="p">]</span>
     <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">,</span> 
           <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> 
           <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> 
           <span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> 
           <span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
           <span class="n">label</span><span class="o">=</span><span class="n">platform</span><span class="p">))</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">locator_params</span><span class="p">(</span><span class="n">integer</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Total sales (millions)&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;sales&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/8f4f8f869cc0ebf6f0f8f6ad3e2bdeee7c967dbbbfaebd188c319b178b725abb.png" src="_images/8f4f8f869cc0ebf6f0f8f6ad3e2bdeee7c967dbbbfaebd188c319b178b725abb.png" />
</div>
</div>
<p>Now we can even see which ones.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data_new</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;year &gt;= 2013&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">new_stat_by_platform</span> <span class="o">=</span> <span class="n">data_new</span>\
<span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;platform&#39;</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span><span class="p">])</span>\
<span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="s1">&#39;sales&#39;</span><span class="p">:</span> <span class="s1">&#39;sum&#39;</span><span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">new_stat_by_platform</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>name</th>
      <th>sales</th>
    </tr>
    <tr>
      <th>platform</th>
      <th>year</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="4" valign="top">3DS</th>
      <th>2013</th>
      <td>91</td>
      <td>56.57</td>
    </tr>
    <tr>
      <th>2014</th>
      <td>80</td>
      <td>43.76</td>
    </tr>
    <tr>
      <th>2015</th>
      <td>86</td>
      <td>27.78</td>
    </tr>
    <tr>
      <th>2016</th>
      <td>46</td>
      <td>15.14</td>
    </tr>
    <tr>
      <th>DS</th>
      <th>2013</th>
      <td>8</td>
      <td>1.54</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p><a id='future_platfroms'></a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="k">for</span> <span class="n">platform</span> <span class="ow">in</span> <span class="p">(</span><span class="n">data_new</span>
                 <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;platform&#39;</span><span class="p">)[</span><span class="s1">&#39;sales&#39;</span><span class="p">]</span>
                 <span class="o">.</span><span class="n">sum</span><span class="p">()</span>
                 <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
                 <span class="o">.</span><span class="n">index</span><span class="p">):</span>
    <span class="p">(</span><span class="n">new_stat_by_platform</span>
     <span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">platform</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
     <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">,</span> 
           <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> 
           <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> 
           <span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> 
           <span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
           <span class="n">label</span><span class="o">=</span><span class="n">platform</span><span class="p">))</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">locator_params</span><span class="p">(</span><span class="n">integer</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Number of games&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/e81eea5561220b486b655b37ab45ec138d0dab83257804308dccdfe1bcc4ac7f.png" src="_images/e81eea5561220b486b655b37ab45ec138d0dab83257804308dccdfe1bcc4ac7f.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="k">for</span> <span class="n">platform</span> <span class="ow">in</span> <span class="p">(</span><span class="n">data_new</span>
                 <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;platform&#39;</span><span class="p">)[</span><span class="s1">&#39;sales&#39;</span><span class="p">]</span>
                 <span class="o">.</span><span class="n">sum</span><span class="p">()</span>
                 <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
                 <span class="o">.</span><span class="n">index</span><span class="p">):</span>
    <span class="p">(</span><span class="n">new_stat_by_platform</span>
     <span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">platform</span><span class="p">][</span><span class="s1">&#39;sales&#39;</span><span class="p">]</span>
     <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">,</span> 
           <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> 
           <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> 
           <span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> 
           <span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
           <span class="n">label</span><span class="o">=</span><span class="n">platform</span><span class="p">))</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">locator_params</span><span class="p">(</span><span class="n">integer</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Total sales (millions)&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;sales&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/a1e9a0fbda4403b4d734de1a00139796b1195fb0eea7fee42cf43efa506dd232.png" src="_images/a1e9a0fbda4403b4d734de1a00139796b1195fb0eea7fee42cf43efa506dd232.png" />
</div>
</div>
<p>It may be more accurate to reflect shares. Let’s look at the number of sales for the current period.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># fig, ax = plt.subplots()</span>
<span class="n">fig</span> <span class="o">=</span> <span class="p">(</span><span class="n">data_new</span>
       <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;year&#39;</span><span class="p">)[</span><span class="s1">&#39;sales&#39;</span><span class="p">]</span>
       <span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="s1">&#39;sum&#39;</span><span class="p">)</span>
       <span class="o">.</span><span class="n">sort_index</span><span class="p">()</span>
       <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
<span class="c1"># ax.set_xticklabels(np.sort(data_new[&#39;year&#39;].apply(lambda x: x.year).unique()))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Total sales (millions)&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/16d9e61d58e6e9ef4df716c676817a94e1c2324a0722ba32947488ef52935b35.png" src="_images/16d9e61d58e6e9ef4df716c676817a94e1c2324a0722ba32947488ef52935b35.png" />
</div>
</div>
<p>Yes, let’s try through shares in sales for each platform.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">new_stat_by_platform</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="n">new_stat_by_platform</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;part&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;sales&#39;</span><span class="p">]</span> <span class="o">/</span> 
    <span class="nb">sum</span><span class="p">(</span><span class="n">new_stat_by_platform</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">IndexSlice</span><span class="p">[:,</span> <span class="n">index</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span> <span class="p">:][</span><span class="s1">&#39;sales&#39;</span><span class="p">]))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">new_stat_by_platform</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>name</th>
      <th>sales</th>
      <th>part</th>
    </tr>
    <tr>
      <th>platform</th>
      <th>year</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="4" valign="top">3DS</th>
      <th>2013</th>
      <td>91</td>
      <td>56.57</td>
      <td>0.156599</td>
    </tr>
    <tr>
      <th>2014</th>
      <td>80</td>
      <td>43.76</td>
      <td>0.131994</td>
    </tr>
    <tr>
      <th>2015</th>
      <td>86</td>
      <td>27.78</td>
      <td>0.103664</td>
    </tr>
    <tr>
      <th>2016</th>
      <td>46</td>
      <td>15.14</td>
      <td>0.116515</td>
    </tr>
    <tr>
      <th>DS</th>
      <th>2013</th>
      <td>8</td>
      <td>1.54</td>
      <td>0.004263</td>
    </tr>
    <tr>
      <th rowspan="4" valign="top">PC</th>
      <th>2013</th>
      <td>38</td>
      <td>12.38</td>
      <td>0.034271</td>
    </tr>
    <tr>
      <th>2014</th>
      <td>47</td>
      <td>13.28</td>
      <td>0.040057</td>
    </tr>
    <tr>
      <th>2015</th>
      <td>50</td>
      <td>8.52</td>
      <td>0.031793</td>
    </tr>
    <tr>
      <th>2016</th>
      <td>54</td>
      <td>5.25</td>
      <td>0.040403</td>
    </tr>
    <tr>
      <th>PS3</th>
      <th>2013</th>
      <td>126</td>
      <td>113.25</td>
      <td>0.313503</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">new_stat_by_platform</span><span class="p">[</span><span class="s1">&#39;part&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4.0
</pre></div>
</div>
</div>
</div>
<p><a id='platfrom_sales'></a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">platform</span> <span class="ow">in</span> <span class="p">(</span><span class="n">data_new</span>
                 <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;platform&#39;</span><span class="p">)[</span><span class="s1">&#39;sales&#39;</span><span class="p">]</span>
                 <span class="o">.</span><span class="n">sum</span><span class="p">()</span>
                 <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
                 <span class="o">.</span><span class="n">index</span><span class="p">):</span>
    <span class="p">(</span><span class="n">new_stat_by_platform</span>
     <span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">platform</span><span class="p">][</span><span class="s1">&#39;part&#39;</span><span class="p">]</span>
     <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">,</span> 
           <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> 
           <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> 
           <span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> 
           <span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
           <span class="n">label</span><span class="o">=</span><span class="n">platform</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Share of sales (for each year)&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;sales&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/2c9ac160bfcd7834efe9153858852a4a85bbad3488c3626abd8b64090af7223d.png" src="_images/2c9ac160bfcd7834efe9153858852a4a85bbad3488c3626abd8b64090af7223d.png" />
</div>
</div>
<p>What we can see is:</p>
<ul class="simple">
<li><p>PS4 and XOne are gaining momentum</p></li>
<li><p>3DS is holding steady</p></li>
<li><p>PS3 and X360 are falling rapidly</p></li>
</ul>
<p>Old models are being replaced by the new ones pretty quickly.</p>
</section>
<section id="sales-spread-by-platform">
<h3>Sales spread by platform<a class="headerlink" href="#sales-spread-by-platform" title="Link to this heading">#</a></h3>
<p>Let’s take a look at sales of different games by platform.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sb</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data_new</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;platform&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;sales&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Axes: xlabel=&#39;platform&#39;, ylabel=&#39;sales&#39;&gt;
</pre></div>
</div>
<img alt="_images/4ffc5ba7e000932af73fa641175b306bfd5f4c1d625b158fdf6dab348b9423f0.png" src="_images/4ffc5ba7e000932af73fa641175b306bfd5f4c1d625b158fdf6dab348b9423f0.png" />
</div>
</div>
<p>Let’s trim the best sellers: <a id='new_platforms'></a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sb</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data_new</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;sales &lt;= 3&#39;</span><span class="p">),</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;platform&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;sales&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/259391249a08e3426ee95abdd2cbd09b389a782566e187b7a4b5f54e18ba4147.png" src="_images/259391249a08e3426ee95abdd2cbd09b389a782566e187b7a4b5f54e18ba4147.png" />
</div>
</div>
<p>Positive skewness is evident.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data_new</span><span class="p">[</span><span class="s1">&#39;sales&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>count    2233.000000
mean        0.488442
std         1.235226
min         0.010000
25%         0.030000
50%         0.110000
75%         0.400000
max        21.050000
Name: sales, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>Lots of poorly selling games and a few popular ones that skew average. Genre classics.</p>
</section>
<section id="correlation-between-scores-and-sales">
<h3>Correlation between scores and sales<a class="headerlink" href="#correlation-between-scores-and-sales" title="Link to this heading">#</a></h3>
<p>The PS4 is the most actively developing. Let’s explore it.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data_new</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;platform == &quot;PS4&quot;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
Int64Index: 392 entries, 31 to 16314
Data columns (total 12 columns):
 #   Column        Non-Null Count  Dtype  
---  ------        --------------  -----  
 0   name          392 non-null    object 
 1   platform      392 non-null    object 
 2   year          392 non-null    int64  
 3   genre         392 non-null    object 
 4   NA_sales      392 non-null    float64
 5   EU_sales      392 non-null    float64
 6   JP_sales      392 non-null    float64
 7   other_sales   392 non-null    float64
 8   critic_score  252 non-null    float64
 9   user_score    257 non-null    float64
 10  rating        392 non-null    object 
 11  sales         392 non-null    float64
dtypes: float64(7), int64(1), object(4)
memory usage: 39.8+ KB
</pre></div>
</div>
</div>
</div>
<p>There are quite a few gaps in the scores. Let’s see how many there are for other platforms.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">data_new</span><span class="p">[</span><span class="s1">&#39;platform&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">to_frame</span><span class="p">(</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>
 <span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">data_new</span><span class="p">[</span><span class="s1">&#39;user_score&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">data_new</span><span class="p">[</span><span class="s1">&#39;platform&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">sum</span><span class="p">()))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>all</th>
      <th>user_score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>PS4</th>
      <td>392</td>
      <td>135</td>
    </tr>
    <tr>
      <th>PSV</th>
      <td>358</td>
      <td>259</td>
    </tr>
    <tr>
      <th>PS3</th>
      <td>345</td>
      <td>159</td>
    </tr>
    <tr>
      <th>3DS</th>
      <td>303</td>
      <td>223</td>
    </tr>
    <tr>
      <th>XOne</th>
      <td>247</td>
      <td>65</td>
    </tr>
    <tr>
      <th>PC</th>
      <td>189</td>
      <td>34</td>
    </tr>
    <tr>
      <th>X360</th>
      <td>186</td>
      <td>43</td>
    </tr>
    <tr>
      <th>WiiU</th>
      <td>115</td>
      <td>35</td>
    </tr>
    <tr>
      <th>PSP</th>
      <td>67</td>
      <td>65</td>
    </tr>
    <tr>
      <th>Wii</th>
      <td>23</td>
      <td>16</td>
    </tr>
    <tr>
      <th>DS</th>
      <td>8</td>
      <td>7</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Let’s study the correlation between critics’ scores and sales. We will assume that if the Pearson correlation modulo is less than 0.25, there is no correlation. If between 0.25 and 0.5, the correlation is weak. If more, the correlation is strong.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="p">(</span><span class="n">data_new</span>
 <span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;platform == &quot;PS4&quot;&#39;</span><span class="p">)</span>
 <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;scatter&#39;</span><span class="p">,</span> 
       <span class="n">x</span><span class="o">=</span><span class="s1">&#39;critic_score&#39;</span><span class="p">,</span> 
       <span class="n">y</span><span class="o">=</span><span class="s1">&#39;sales&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/home/leonid/anaconda3/envs/practicum/lib/python3.9/site-packages/pandas/plotting/_matplotlib/core.py:1041: UserWarning: No data for colormapping provided via &#39;c&#39;. Parameters &#39;cmap&#39; will be ignored
  scatter = ax.scatter(
</pre></div>
</div>
<img alt="_images/b888a8dbe7a66aa24ea165a74216919d2170e51c4cca5eb8510ed47edfb85022.png" src="_images/b888a8dbe7a66aa24ea165a74216919d2170e51c4cca5eb8510ed47edfb85022.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data_new</span><span class="p">[</span><span class="s1">&#39;critic_score&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">data_new</span><span class="p">[</span><span class="s1">&#39;sales&#39;</span><span class="p">])</span> <span class="c1"># Pearson correlation</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.3136995151027368
</pre></div>
</div>
</div>
</div>
<p>In general, there is a correlation, but a weak one. Perhaps if we look at a sample of the data, it will become more clear, but it is difficult to find a border beyond which it becomes a distortion of reality.</p>
<p><a id='success'></a></p>
<p>Let’s take a look at user ratings as well.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="p">(</span><span class="n">data_new</span>
 <span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;platform == &quot;PS4&quot;&#39;</span><span class="p">)</span>
 <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;scatter&#39;</span><span class="p">,</span> 
       <span class="n">x</span><span class="o">=</span><span class="s1">&#39;user_score&#39;</span><span class="p">,</span> 
       <span class="n">y</span><span class="o">=</span><span class="s1">&#39;sales&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/4000af7d5579c146df1a8242ab7018ae6e5ce5f7a20c14e442afa0a4e32ee2d3.png" src="_images/4000af7d5579c146df1a8242ab7018ae6e5ce5f7a20c14e442afa0a4e32ee2d3.png" />
</div>
</div>
<p>It’s a similar situation.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="p">(</span><span class="n">data_new</span>
       <span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;platform == &quot;PS4&quot;&#39;</span><span class="p">)</span>
       <span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;user_score &gt;= 5&#39;</span><span class="p">)</span>
       <span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;sales &lt;= 2&#39;</span><span class="p">)</span>
       <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;hexbin&#39;</span><span class="p">,</span> 
             <span class="n">x</span><span class="o">=</span><span class="s1">&#39;user_score&#39;</span><span class="p">,</span> 
             <span class="n">y</span><span class="o">=</span><span class="s1">&#39;sales&#39;</span><span class="p">,</span> 
             <span class="n">gridsize</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> 
             <span class="n">sharex</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> 
             <span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/25b7920d3f8b8fe72ea04d647954714c68d33f0cee2a62d0bb51d8b530df2116.png" src="_images/25b7920d3f8b8fe72ea04d647954714c68d33f0cee2a62d0bb51d8b530df2116.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data_new</span><span class="p">[</span><span class="s1">&#39;user_score&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">data_new</span><span class="p">[</span><span class="s1">&#39;sales&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>-0.002607813354598235
</pre></div>
</div>
</div>
</div>
<p>There is no correlation. It looks as if a game with any score can sell well. It would even be more accurate to say that a high score does not guarantee sales.</p>
<p>Across all platforms:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">platform</span> <span class="ow">in</span> <span class="p">(</span><span class="n">data_new</span>
                 <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;platform&#39;</span><span class="p">)[</span><span class="s1">&#39;sales&#39;</span><span class="p">]</span>
                 <span class="o">.</span><span class="n">sum</span><span class="p">()</span>
                 <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
                 <span class="o">.</span><span class="n">index</span><span class="p">):</span>
    <span class="n">current_data</span> <span class="o">=</span> <span class="n">data_new</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;platform == @platform&#39;</span><span class="p">)</span>
    <span class="n">fig</span> <span class="o">=</span> <span class="p">(</span><span class="n">current_data</span>
           <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;scatter&#39;</span><span class="p">,</span> 
                 <span class="n">x</span><span class="o">=</span><span class="s1">&#39;user_score&#39;</span><span class="p">,</span> 
                 <span class="n">y</span><span class="o">=</span><span class="s1">&#39;sales&#39;</span><span class="p">,</span> 
                 <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> 
                 <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Platform: </span><span class="si">{}</span><span class="s1">, Total games: </span><span class="si">{}</span><span class="s1">, Of those without scores: </span><span class="si">{}</span><span class="s1">, Correlation: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
        <span class="n">platform</span><span class="p">,</span> 
        <span class="nb">len</span><span class="p">(</span><span class="n">current_data</span><span class="p">),</span> 
        <span class="n">current_data</span><span class="p">[</span><span class="s1">&#39;user_score&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> 
        <span class="nb">round</span><span class="p">(</span><span class="n">current_data</span><span class="p">[</span><span class="s1">&#39;user_score&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">current_data</span><span class="p">[</span><span class="s1">&#39;sales&#39;</span><span class="p">]),</span> <span class="mi">5</span><span class="p">),</span> 
        <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;user_score&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;sales&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/81b53d87446bb984e32b301e7ae2a945169a3f4ca7a9db71db63d0875aaf810c.png" src="_images/81b53d87446bb984e32b301e7ae2a945169a3f4ca7a9db71db63d0875aaf810c.png" />
<img alt="_images/9921e98ab120ed65b6bcafe0b4d86979a73d2cfdef3660c5bb53a89a5afb6f73.png" src="_images/9921e98ab120ed65b6bcafe0b4d86979a73d2cfdef3660c5bb53a89a5afb6f73.png" />
<img alt="_images/bb6e655c490b0a640bdcb89c08a09639bc0968decaa24eae5f0291488a49ee8a.png" src="_images/bb6e655c490b0a640bdcb89c08a09639bc0968decaa24eae5f0291488a49ee8a.png" />
<img alt="_images/4958913810cc5f6dcc3f8285a8385cda1f9fd62120804801d86c5f9f6a6dc48d.png" src="_images/4958913810cc5f6dcc3f8285a8385cda1f9fd62120804801d86c5f9f6a6dc48d.png" />
<img alt="_images/7a308af5d0ab023c0fec0a826c37933b8c3eec1a6468a40fec94ec15cefc4077.png" src="_images/7a308af5d0ab023c0fec0a826c37933b8c3eec1a6468a40fec94ec15cefc4077.png" />
<img alt="_images/7ec07397e2c038a2277926f63733d038e6e602d179628e8cfe63aecc0a8f2a99.png" src="_images/7ec07397e2c038a2277926f63733d038e6e602d179628e8cfe63aecc0a8f2a99.png" />
<img alt="_images/204039eea6981f5d6243e778dfbd8b6255e3cd40a8570a3af4d09511e3689225.png" src="_images/204039eea6981f5d6243e778dfbd8b6255e3cd40a8570a3af4d09511e3689225.png" />
<img alt="_images/aae765b3bce58ebcb75ec569dfa91d56a9608e0502d2346af99ddecaf40a3605.png" src="_images/aae765b3bce58ebcb75ec569dfa91d56a9608e0502d2346af99ddecaf40a3605.png" />
<img alt="_images/544eaa8e22290028665a94bf9f1b79c3767790190d53cf418dfe80733a3158fa.png" src="_images/544eaa8e22290028665a94bf9f1b79c3767790190d53cf418dfe80733a3158fa.png" />
<img alt="_images/f8ba229e78de441080fa420311fc30b331e1e031c4ec80fd04f3eac887164a59.png" src="_images/f8ba229e78de441080fa420311fc30b331e1e031c4ec80fd04f3eac887164a59.png" />
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/home/leonid/anaconda3/envs/practicum/lib/python3.9/site-packages/numpy/lib/function_base.py:2845: RuntimeWarning: Degrees of freedom &lt;= 0 for slice
  c = cov(x, y, rowvar, dtype=dtype)
/home/leonid/anaconda3/envs/practicum/lib/python3.9/site-packages/numpy/lib/function_base.py:2704: RuntimeWarning: divide by zero encountered in divide
  c *= np.true_divide(1, fact)
</pre></div>
</div>
<img alt="_images/011440039ee180bb11dc7470d15cb70cd7411ece7f259d04e643c8d65e5d0613.png" src="_images/011440039ee180bb11dc7470d15cb70cd7411ece7f259d04e643c8d65e5d0613.png" />
</div>
</div>
<p>It can be seen that there is no correlation anywhere. Only with WiiU there is a mild correlation (0.42).</p>
<p>Similarly on the critics:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">platform</span> <span class="ow">in</span> <span class="p">(</span><span class="n">data_new</span>
                 <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;platform&#39;</span><span class="p">)[</span><span class="s1">&#39;sales&#39;</span><span class="p">]</span>
                 <span class="o">.</span><span class="n">sum</span><span class="p">()</span>
                 <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
                 <span class="o">.</span><span class="n">index</span><span class="p">):</span>
    <span class="n">current_data</span> <span class="o">=</span> <span class="n">data_new</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;platform == @platform&#39;</span><span class="p">)</span>
    <span class="n">fig</span> <span class="o">=</span> <span class="p">(</span><span class="n">current_data</span>
           <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;scatter&#39;</span><span class="p">,</span> 
                 <span class="n">x</span><span class="o">=</span><span class="s1">&#39;critic_score&#39;</span><span class="p">,</span> 
                 <span class="n">y</span><span class="o">=</span><span class="s1">&#39;sales&#39;</span><span class="p">,</span> 
                 <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> 
                 <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Platform: </span><span class="si">{}</span><span class="s1">, Total games: </span><span class="si">{}</span><span class="s1">, Of those without scores: </span><span class="si">{}</span><span class="s1">, Correlation: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
        <span class="n">platform</span><span class="p">,</span> 
        <span class="nb">len</span><span class="p">(</span><span class="n">current_data</span><span class="p">),</span> 
        <span class="n">current_data</span><span class="p">[</span><span class="s1">&#39;critic_score&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> 
        <span class="nb">round</span><span class="p">(</span><span class="n">current_data</span><span class="p">[</span><span class="s1">&#39;critic_score&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">current_data</span><span class="p">[</span><span class="s1">&#39;sales&#39;</span><span class="p">]),</span> <span class="mi">5</span><span class="p">),</span> 
        <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;critic_score&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;sales&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/04d4940d56d43e205a59b5383fb37657680127c7f7bb38407e8449fdcfa8d23a.png" src="_images/04d4940d56d43e205a59b5383fb37657680127c7f7bb38407e8449fdcfa8d23a.png" />
<img alt="_images/b3ec5dde1507bef8e73bbb373ca0596a4cc1bb970b25c0f07ac846a7accc1df3.png" src="_images/b3ec5dde1507bef8e73bbb373ca0596a4cc1bb970b25c0f07ac846a7accc1df3.png" />
<img alt="_images/01a4913345ea31e386b2d8214b50693ca3aff325a8836684e118dc73cd399232.png" src="_images/01a4913345ea31e386b2d8214b50693ca3aff325a8836684e118dc73cd399232.png" />
<img alt="_images/83d3fd5af075f4b818cc9f77130e0c8d5aba32f7cc0c6248fc56563809bb162f.png" src="_images/83d3fd5af075f4b818cc9f77130e0c8d5aba32f7cc0c6248fc56563809bb162f.png" />
<img alt="_images/ce3115394e594bdbda76b6ec7d32067ca2e1eb0dc03f7a1b4def9c7985c48b18.png" src="_images/ce3115394e594bdbda76b6ec7d32067ca2e1eb0dc03f7a1b4def9c7985c48b18.png" />
<img alt="_images/e77277672a7e5defd8a9d88f3279d267925b3422c3dee7d48aa0776e30b7eaee.png" src="_images/e77277672a7e5defd8a9d88f3279d267925b3422c3dee7d48aa0776e30b7eaee.png" />
<img alt="_images/b144e9521bc3c6158e178bfb0af0ab0960f7c9316161ac94b43d2986cad8ad1f.png" src="_images/b144e9521bc3c6158e178bfb0af0ab0960f7c9316161ac94b43d2986cad8ad1f.png" />
<img alt="_images/410298b6c5f617328feff13d3b636ee3367f206d0c6f288c6f986041bec11a0f.png" src="_images/410298b6c5f617328feff13d3b636ee3367f206d0c6f288c6f986041bec11a0f.png" />
<img alt="_images/58911a62b4286b1d1296c811527db8e13d4dba65abe666d9897b2defaee1f070.png" src="_images/58911a62b4286b1d1296c811527db8e13d4dba65abe666d9897b2defaee1f070.png" />
<img alt="_images/d0e1200bbafa82ceca05345e7cdef8764e4adfafdbd7ef5a8a323c4b756631d1.png" src="_images/d0e1200bbafa82ceca05345e7cdef8764e4adfafdbd7ef5a8a323c4b756631d1.png" />
<img alt="_images/2c71d5cc8e42fb006375c30af4e546c3002d64b4caa0098722f6a90b0c1ca429.png" src="_images/2c71d5cc8e42fb006375c30af4e546c3002d64b4caa0098722f6a90b0c1ca429.png" />
</div>
</div>
<p>In 6 cases out of 11 the correlation is weak, i.e. the score cannot be the only parameter on which sales depend. This is proved by a significant part of poorly selling but highly rated games. Critics’ scores, however, predict slightly better than users.</p>
<p>Perhaps the picture would be different on data for the known period 2002-2011.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data_middle</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;2002 &lt;= year &lt;= 2011&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">platform</span> <span class="ow">in</span> <span class="p">(</span><span class="n">data_middle</span>
                 <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;platform&#39;</span><span class="p">)[</span><span class="s1">&#39;sales&#39;</span><span class="p">]</span>
                 <span class="o">.</span><span class="n">sum</span><span class="p">()</span>
                 <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
                 <span class="o">.</span><span class="n">index</span><span class="p">):</span>
    <span class="n">current_data</span> <span class="o">=</span> <span class="n">data_middle</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;platform == @platform&#39;</span><span class="p">)</span>
    <span class="n">fig</span> <span class="o">=</span> <span class="p">(</span><span class="n">current_data</span>
           <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;scatter&#39;</span><span class="p">,</span> 
                 <span class="n">x</span><span class="o">=</span><span class="s1">&#39;user_score&#39;</span><span class="p">,</span> 
                 <span class="n">y</span><span class="o">=</span><span class="s1">&#39;sales&#39;</span><span class="p">,</span> 
                 <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> 
                 <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Platform: </span><span class="si">{}</span><span class="s1">, Total games: </span><span class="si">{}</span><span class="s1">, Of those without scores: </span><span class="si">{}</span><span class="s1">, Correlation: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
        <span class="n">platform</span><span class="p">,</span> 
        <span class="nb">len</span><span class="p">(</span><span class="n">current_data</span><span class="p">),</span> 
        <span class="n">current_data</span><span class="p">[</span><span class="s1">&#39;user_score&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> 
        <span class="nb">round</span><span class="p">(</span><span class="n">current_data</span><span class="p">[</span><span class="s1">&#39;user_score&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">current_data</span><span class="p">[</span><span class="s1">&#39;sales&#39;</span><span class="p">]),</span> <span class="mi">5</span><span class="p">)),</span> 
        <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;user_score&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;sales&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/a74670f9061b444c0293ba78de3581cb8828d118dc43e40b9383ebd6b59d82ad.png" src="_images/a74670f9061b444c0293ba78de3581cb8828d118dc43e40b9383ebd6b59d82ad.png" />
<img alt="_images/c324a9831ffa1b537a23d5254bb51f9679c922e3d76bd89643fd71c7721a6553.png" src="_images/c324a9831ffa1b537a23d5254bb51f9679c922e3d76bd89643fd71c7721a6553.png" />
<img alt="_images/7b2fb6cbc7061baf440bcc51ade13303280139984af5eacaa03489249a10d3e9.png" src="_images/7b2fb6cbc7061baf440bcc51ade13303280139984af5eacaa03489249a10d3e9.png" />
<img alt="_images/cbd15182b0779785434cf0edebd882d64e514fd32d47805221cc5378cdbecb97.png" src="_images/cbd15182b0779785434cf0edebd882d64e514fd32d47805221cc5378cdbecb97.png" />
<img alt="_images/630aeaf732f5ab732cdb5ba83e44f235f9b05ebf1023cb430671942375e18cdd.png" src="_images/630aeaf732f5ab732cdb5ba83e44f235f9b05ebf1023cb430671942375e18cdd.png" />
<img alt="_images/2aec6cdb64f1d5e41e5bb12b89e3ea4d05be3b3976a166f5f9e6e18267e25b67.png" src="_images/2aec6cdb64f1d5e41e5bb12b89e3ea4d05be3b3976a166f5f9e6e18267e25b67.png" />
<img alt="_images/fe6ba2af5a06c948d8d3d2e7696ccce2f0be776a256dd5cd45786b4290bf4987.png" src="_images/fe6ba2af5a06c948d8d3d2e7696ccce2f0be776a256dd5cd45786b4290bf4987.png" />
<img alt="_images/9531cf4761a4514188e010af15a55500f92b3ae2bd522dd719426b508d17aa06.png" src="_images/9531cf4761a4514188e010af15a55500f92b3ae2bd522dd719426b508d17aa06.png" />
<img alt="_images/a674d4a3c75c95e35a0518142c0a2505c7ed9c1ca16cb0910d036e459069ce18.png" src="_images/a674d4a3c75c95e35a0518142c0a2505c7ed9c1ca16cb0910d036e459069ce18.png" />
<img alt="_images/fbde680d86c2d971ee9670a227cc7e3759c115c4574681aa014ccbbdc9768cfe.png" src="_images/fbde680d86c2d971ee9670a227cc7e3759c115c4574681aa014ccbbdc9768cfe.png" />
<img alt="_images/d50904e65479341bc431dc1e2663831a9a0120715f0674bb4caee241c0b71585.png" src="_images/d50904e65479341bc431dc1e2663831a9a0120715f0674bb4caee241c0b71585.png" />
<img alt="_images/7be093b56e21327a707d35d7a146510cd63d17a9d97d7eea1b323007192ff766.png" src="_images/7be093b56e21327a707d35d7a146510cd63d17a9d97d7eea1b323007192ff766.png" />
<img alt="_images/d159a37d7aed595d444da1906d352225425692c7aeec41a1032c7bc0dbfd60aa.png" src="_images/d159a37d7aed595d444da1906d352225425692c7aeec41a1032c7bc0dbfd60aa.png" />
<img alt="_images/94ddda45f9bd1e23a1b85125d0b54f81b7d6903954ba3146397679baf3e9adcd.png" src="_images/94ddda45f9bd1e23a1b85125d0b54f81b7d6903954ba3146397679baf3e9adcd.png" />
<img alt="_images/5ae92b4241fcc3edaa8057ffdc2fb869d6568f34a7dad348102c3262fcfdc928.png" src="_images/5ae92b4241fcc3edaa8057ffdc2fb869d6568f34a7dad348102c3262fcfdc928.png" />
</div>
</div>
<p>No, it’s the same thing. The games that sell good are usually rated above average, but there are many more of highly rated games that are sold poorly.</p>
</section>
<section id="sales-by-genre">
<h3>Sales by genre<a class="headerlink" href="#sales-by-genre" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sb</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data_new</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;genre&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;sales&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/1687f71e380296e544e9be36b65cf2206673d3e3fa620721b10faadc257a9149.png" src="_images/1687f71e380296e544e9be36b65cf2206673d3e3fa620721b10faadc257a9149.png" />
</div>
</div>
<p><a id='genres'></a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">9</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;font.size&#39;</span><span class="p">:</span> <span class="mi">15</span><span class="p">})</span>
<span class="n">sb</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data_new</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;sales &lt;= 2&#39;</span><span class="p">),</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;genre&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;sales&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/9d148ab16dc422001ce51d86356a3eff44240ec3990eed74220a015916cfff38.png" src="_images/9d148ab16dc422001ce51d86356a3eff44240ec3990eed74220a015916cfff38.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">data_new</span>
 <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;genre&#39;</span><span class="p">)[</span><span class="s1">&#39;sales&#39;</span><span class="p">]</span>
 <span class="o">.</span><span class="n">agg</span><span class="p">([</span><span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;median&#39;</span><span class="p">,</span> <span class="s1">&#39;sum&#39;</span><span class="p">])</span>
 <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;median&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>count</th>
      <th>mean</th>
      <th>median</th>
      <th>sum</th>
    </tr>
    <tr>
      <th>genre</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Shooter</th>
      <td>187</td>
      <td>1.245882</td>
      <td>0.450</td>
      <td>232.98</td>
    </tr>
    <tr>
      <th>Sports</th>
      <td>214</td>
      <td>0.703972</td>
      <td>0.240</td>
      <td>150.65</td>
    </tr>
    <tr>
      <th>Platform</th>
      <td>74</td>
      <td>0.576081</td>
      <td>0.225</td>
      <td>42.63</td>
    </tr>
    <tr>
      <th>Role-Playing</th>
      <td>292</td>
      <td>0.499623</td>
      <td>0.125</td>
      <td>145.89</td>
    </tr>
    <tr>
      <th>Fighting</th>
      <td>80</td>
      <td>0.441375</td>
      <td>0.125</td>
      <td>35.31</td>
    </tr>
    <tr>
      <th>Racing</th>
      <td>85</td>
      <td>0.469294</td>
      <td>0.120</td>
      <td>39.89</td>
    </tr>
    <tr>
      <th>Action</th>
      <td>766</td>
      <td>0.420196</td>
      <td>0.110</td>
      <td>321.87</td>
    </tr>
    <tr>
      <th>Simulation</th>
      <td>62</td>
      <td>0.350968</td>
      <td>0.100</td>
      <td>21.76</td>
    </tr>
    <tr>
      <th>Misc</th>
      <td>155</td>
      <td>0.405290</td>
      <td>0.100</td>
      <td>62.82</td>
    </tr>
    <tr>
      <th>Strategy</th>
      <td>56</td>
      <td>0.180000</td>
      <td>0.080</td>
      <td>10.08</td>
    </tr>
    <tr>
      <th>Puzzle</th>
      <td>17</td>
      <td>0.186471</td>
      <td>0.060</td>
      <td>3.17</td>
    </tr>
    <tr>
      <th>Adventure</th>
      <td>245</td>
      <td>0.096490</td>
      <td>0.030</td>
      <td>23.64</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>There’s definitely a difference here. The average shooter sells more often than the average action game (which make up the majority of the market).</p>
</section>
<section id="sales-by-rating">
<h3>Sales by rating<a class="headerlink" href="#sales-by-rating" title="Link to this heading">#</a></h3>
<p>Let’s find out the games with which rating are sold the best.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">new_stat_by_rating</span> <span class="o">=</span> <span class="n">data_new</span>\
<span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;rating&#39;</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span><span class="p">])</span>\
<span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="s1">&#39;sales&#39;</span><span class="p">:</span> <span class="s1">&#39;sum&#39;</span><span class="p">})</span>
<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">new_stat_by_rating</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="n">new_stat_by_rating</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;part&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;sales&#39;</span><span class="p">]</span> <span class="o">/</span> 
    <span class="nb">sum</span><span class="p">(</span><span class="n">new_stat_by_rating</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">IndexSlice</span><span class="p">[:,</span> <span class="n">index</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span> <span class="p">:][</span><span class="s1">&#39;sales&#39;</span><span class="p">]))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">new_stat_by_rating</span>
 <span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">IndexSlice</span><span class="p">[:,</span> <span class="mi">2015</span><span class="p">],</span> <span class="p">:]</span>
 <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;sales&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">levels</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;E&#39;, &#39;E10+&#39;, &#39;M&#39;, &#39;T&#39;, &#39;unknown&#39;], dtype=&#39;object&#39;, name=&#39;rating&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">new_stat_by_rating</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">IndexSlice</span><span class="p">[:,</span> <span class="mi">2015</span><span class="p">],</span> <span class="p">:]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>name</th>
      <th>sales</th>
      <th>part</th>
    </tr>
    <tr>
      <th>rating</th>
      <th>year</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>E</th>
      <th>2015</th>
      <td>87</td>
      <td>49.50</td>
      <td>0.184715</td>
    </tr>
    <tr>
      <th>E10+</th>
      <th>2015</th>
      <td>51</td>
      <td>27.55</td>
      <td>0.102806</td>
    </tr>
    <tr>
      <th>M</th>
      <th>2015</th>
      <td>71</td>
      <td>72.75</td>
      <td>0.271475</td>
    </tr>
    <tr>
      <th>T</th>
      <th>2015</th>
      <td>106</td>
      <td>33.61</td>
      <td>0.125420</td>
    </tr>
    <tr>
      <th>unknown</th>
      <th>2015</th>
      <td>291</td>
      <td>84.57</td>
      <td>0.315583</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<ul class="simple">
<li><p>E – for all ages</p></li>
<li><p>EC – for persons over 3 years of age</p></li>
<li><p>E10+ – for persons over 10 years old</p></li>
<li><p>T – for persons over 13 years old</p></li>
<li><p>M – for persons over 17 years of age</p></li>
<li><p>AO – for adults (over 18 years old)</p></li>
<li><p>RP – the game is not rated</p></li>
</ul>
<p><a id='unknown_rating'></a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">rating</span> <span class="ow">in</span> <span class="p">(</span><span class="n">data_new</span>
                 <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;rating&#39;</span><span class="p">)[</span><span class="s1">&#39;sales&#39;</span><span class="p">]</span>
                 <span class="o">.</span><span class="n">sum</span><span class="p">()</span>
                 <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
                 <span class="o">.</span><span class="n">index</span><span class="p">):</span>
    <span class="p">(</span><span class="n">new_stat_by_rating</span>
     <span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">rating</span><span class="p">][</span><span class="s1">&#39;part&#39;</span><span class="p">]</span>
     <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">,</span> 
           <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> 
           <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> 
           <span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> 
           <span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
           <span class="n">label</span><span class="o">=</span><span class="n">rating</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Share of sales (for each year)&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;sales&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/d08d1be0e0f4ced9af3ce462e9340b7c6f6d0087c8ff85438836d7135f04a47c.png" src="_images/d08d1be0e0f4ced9af3ce462e9340b7c6f6d0087c8ff85438836d7135f04a47c.png" />
</div>
</div>
<p>There was a noticeable peak in the number of sales of games with uncertain ratings in 2015.</p>
<p>Let’s see how many such sales took place in 2015.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="p">(</span><span class="n">new_stat_by_rating</span>
       <span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">IndexSlice</span><span class="p">[:,</span> <span class="mi">2015</span><span class="p">],</span> <span class="p">:]</span>
       <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;sales&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
       <span class="p">[</span><span class="s1">&#39;sales&#39;</span><span class="p">]</span>
       <span class="o">.</span><span class="n">droplevel</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
       <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Number of sales by rating for 2015 (millions)&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/9c6aadc94f649bc400dbb7519c81b945e19a8ec5cce31969c3718708d4a32402.png" src="_images/9c6aadc94f649bc400dbb7519c81b945e19a8ec5cce31969c3718708d4a32402.png" />
</div>
</div>
</section>
</section>
<section id="user-profiles">
<h2>User profiles<a class="headerlink" href="#user-profiles" title="Link to this heading">#</a></h2>
<p>Let’s consider sales by region.</p>
<section id="north-america">
<h3>North America<a class="headerlink" href="#north-america" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">data_new</span>
 <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;platform&#39;</span><span class="p">)[</span><span class="s1">&#39;NA_sales&#39;</span><span class="p">]</span>
 <span class="o">.</span><span class="n">agg</span><span class="p">([</span><span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;median&#39;</span><span class="p">,</span> <span class="s1">&#39;sum&#39;</span><span class="p">])</span>
 <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;sum&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>count</th>
      <th>mean</th>
      <th>median</th>
      <th>sum</th>
    </tr>
    <tr>
      <th>platform</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>PS4</th>
      <td>392</td>
      <td>0.277398</td>
      <td>0.060</td>
      <td>108.74</td>
    </tr>
    <tr>
      <th>XOne</th>
      <td>247</td>
      <td>0.377004</td>
      <td>0.120</td>
      <td>93.12</td>
    </tr>
    <tr>
      <th>X360</th>
      <td>186</td>
      <td>0.439032</td>
      <td>0.150</td>
      <td>81.66</td>
    </tr>
    <tr>
      <th>PS3</th>
      <td>345</td>
      <td>0.184058</td>
      <td>0.030</td>
      <td>63.50</td>
    </tr>
    <tr>
      <th>3DS</th>
      <td>303</td>
      <td>0.126073</td>
      <td>0.000</td>
      <td>38.20</td>
    </tr>
    <tr>
      <th>WiiU</th>
      <td>115</td>
      <td>0.254000</td>
      <td>0.090</td>
      <td>29.21</td>
    </tr>
    <tr>
      <th>PC</th>
      <td>189</td>
      <td>0.058783</td>
      <td>0.000</td>
      <td>11.11</td>
    </tr>
    <tr>
      <th>Wii</th>
      <td>23</td>
      <td>0.285217</td>
      <td>0.040</td>
      <td>6.56</td>
    </tr>
    <tr>
      <th>PSV</th>
      <td>358</td>
      <td>0.014078</td>
      <td>0.000</td>
      <td>5.04</td>
    </tr>
    <tr>
      <th>DS</th>
      <td>8</td>
      <td>0.071250</td>
      <td>0.015</td>
      <td>0.57</td>
    </tr>
    <tr>
      <th>PSP</th>
      <td>67</td>
      <td>0.000000</td>
      <td>0.000</td>
      <td>0.00</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>As far as the popularity of the platforms is concerned, the total number of sales should be compared.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">NA_stat_by_platform</span> <span class="o">=</span> <span class="p">(</span><span class="n">data_new</span>
                       <span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;platform&#39;</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span><span class="p">])</span>
                       <span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="s1">&#39;NA_sales&#39;</span><span class="p">:</span> <span class="s1">&#39;sum&#39;</span><span class="p">}))</span>
<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">NA_stat_by_platform</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="n">NA_stat_by_platform</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;part&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;NA_sales&#39;</span><span class="p">]</span> <span class="o">/</span> 
    <span class="nb">sum</span><span class="p">(</span><span class="n">NA_stat_by_platform</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">IndexSlice</span><span class="p">[:,</span> <span class="n">index</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span> <span class="p">:][</span><span class="s1">&#39;NA_sales&#39;</span><span class="p">]))</span>
</pre></div>
</div>
</div>
</div>
<p><a id='NA_platforms'></a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">platform</span> <span class="ow">in</span> <span class="p">(</span><span class="n">data_new</span>
                 <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;platform&#39;</span><span class="p">)[</span><span class="s1">&#39;NA_sales&#39;</span><span class="p">]</span>
                 <span class="o">.</span><span class="n">sum</span><span class="p">()</span>
                 <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
                 <span class="o">.</span><span class="n">index</span><span class="p">):</span>
    <span class="p">(</span><span class="n">NA_stat_by_platform</span>
     <span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">platform</span><span class="p">][</span><span class="s1">&#39;part&#39;</span><span class="p">]</span>
     <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">,</span> 
           <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> 
           <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> 
           <span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> 
           <span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
           <span class="n">label</span><span class="o">=</span><span class="n">platform</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Share of sales (for each year)&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;NA_sales&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/cbde75f003888bc6aa6e1427b408ff3214f195cb706fae63bf7cd60ce58735b3.png" src="_images/cbde75f003888bc6aa6e1427b408ff3214f195cb706fae63bf7cd60ce58735b3.png" />
</div>
</div>
<p>After all, the PS4 and XOne are displacing the PS3 and X360, while the 3DS remains on the same level. Apparently, players prefer to replace the console if a new version comes out. Or the producers stop selling the games for the old ones.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">NA_stat_by_genre</span> <span class="o">=</span> <span class="p">(</span><span class="n">data_new</span>
                       <span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;genre&#39;</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span><span class="p">])</span>
                       <span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="s1">&#39;NA_sales&#39;</span><span class="p">:</span> <span class="s1">&#39;sum&#39;</span><span class="p">}))</span>
<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">NA_stat_by_genre</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="n">NA_stat_by_genre</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;part&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;NA_sales&#39;</span><span class="p">]</span> <span class="o">/</span> 
    <span class="nb">sum</span><span class="p">(</span><span class="n">NA_stat_by_genre</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">IndexSlice</span><span class="p">[:,</span> <span class="n">index</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span> <span class="p">:][</span><span class="s1">&#39;NA_sales&#39;</span><span class="p">]))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">genre</span> <span class="ow">in</span> <span class="p">(</span><span class="n">data_new</span>
                 <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;genre&#39;</span><span class="p">)[</span><span class="s1">&#39;NA_sales&#39;</span><span class="p">]</span>
                 <span class="o">.</span><span class="n">sum</span><span class="p">()</span>
                 <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
                 <span class="o">.</span><span class="n">index</span><span class="p">):</span>
    <span class="p">(</span><span class="n">NA_stat_by_genre</span>
     <span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">genre</span><span class="p">][</span><span class="s1">&#39;part&#39;</span><span class="p">]</span>
     <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">,</span> 
           <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> 
           <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> 
           <span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> 
           <span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
           <span class="n">label</span><span class="o">=</span><span class="n">genre</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Share of sales (for each year)&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;NA_sales&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/07433eee8f59a03146aa38da0134c4db2a8599438851fee3968780f392b0bf42.png" src="_images/07433eee8f59a03146aa38da0134c4db2a8599438851fee3968780f392b0bf42.png" />
</div>
</div>
<p><a id='NA_genres'></a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">data_new</span>
 <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;genre&#39;</span><span class="p">)[</span><span class="s1">&#39;NA_sales&#39;</span><span class="p">]</span>
 <span class="o">.</span><span class="n">agg</span><span class="p">([</span><span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;median&#39;</span><span class="p">,</span> <span class="s1">&#39;sum&#39;</span><span class="p">])</span>
 <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;median&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>count</th>
      <th>mean</th>
      <th>median</th>
      <th>sum</th>
    </tr>
    <tr>
      <th>genre</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Shooter</th>
      <td>187</td>
      <td>0.586845</td>
      <td>0.200</td>
      <td>109.74</td>
    </tr>
    <tr>
      <th>Platform</th>
      <td>74</td>
      <td>0.245135</td>
      <td>0.090</td>
      <td>18.14</td>
    </tr>
    <tr>
      <th>Sports</th>
      <td>214</td>
      <td>0.305000</td>
      <td>0.080</td>
      <td>65.27</td>
    </tr>
    <tr>
      <th>Fighting</th>
      <td>80</td>
      <td>0.194375</td>
      <td>0.045</td>
      <td>15.55</td>
    </tr>
    <tr>
      <th>Racing</th>
      <td>85</td>
      <td>0.152471</td>
      <td>0.030</td>
      <td>12.96</td>
    </tr>
    <tr>
      <th>Action</th>
      <td>766</td>
      <td>0.164556</td>
      <td>0.020</td>
      <td>126.05</td>
    </tr>
    <tr>
      <th>Role-Playing</th>
      <td>292</td>
      <td>0.158904</td>
      <td>0.020</td>
      <td>46.40</td>
    </tr>
    <tr>
      <th>Misc</th>
      <td>155</td>
      <td>0.177355</td>
      <td>0.010</td>
      <td>27.49</td>
    </tr>
    <tr>
      <th>Adventure</th>
      <td>245</td>
      <td>0.029143</td>
      <td>0.000</td>
      <td>7.14</td>
    </tr>
    <tr>
      <th>Puzzle</th>
      <td>17</td>
      <td>0.048824</td>
      <td>0.000</td>
      <td>0.83</td>
    </tr>
    <tr>
      <th>Simulation</th>
      <td>62</td>
      <td>0.078387</td>
      <td>0.000</td>
      <td>4.86</td>
    </tr>
    <tr>
      <th>Strategy</th>
      <td>56</td>
      <td>0.058571</td>
      <td>0.000</td>
      <td>3.28</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>In terms of genres, we should compare median sales because the site needs to understand how likely a new game is to pay off.</p>
<p>As leaders we get Shooter, Platform, Sports, Fighting and Racing.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">data_new</span>
 <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;rating&#39;</span><span class="p">)[</span><span class="s1">&#39;NA_sales&#39;</span><span class="p">]</span>
 <span class="o">.</span><span class="n">agg</span><span class="p">([</span><span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;median&#39;</span><span class="p">,</span> <span class="s1">&#39;sum&#39;</span><span class="p">])</span>
 <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;median&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>count</th>
      <th>mean</th>
      <th>median</th>
      <th>sum</th>
    </tr>
    <tr>
      <th>rating</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>M</th>
      <td>369</td>
      <td>0.447724</td>
      <td>0.14</td>
      <td>165.21</td>
    </tr>
    <tr>
      <th>E10+</th>
      <td>252</td>
      <td>0.215238</td>
      <td>0.12</td>
      <td>54.24</td>
    </tr>
    <tr>
      <th>E</th>
      <td>302</td>
      <td>0.261755</td>
      <td>0.05</td>
      <td>79.05</td>
    </tr>
    <tr>
      <th>T</th>
      <td>333</td>
      <td>0.149520</td>
      <td>0.04</td>
      <td>49.79</td>
    </tr>
    <tr>
      <th>unknown</th>
      <td>977</td>
      <td>0.091525</td>
      <td>0.00</td>
      <td>89.42</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">NA_stat_by_rating</span> <span class="o">=</span> <span class="p">(</span><span class="n">data_new</span>
                       <span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;rating&#39;</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span><span class="p">])</span>
                       <span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="s1">&#39;NA_sales&#39;</span><span class="p">:</span> <span class="s1">&#39;sum&#39;</span><span class="p">}))</span>
<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">NA_stat_by_rating</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="n">NA_stat_by_rating</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;part&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;NA_sales&#39;</span><span class="p">]</span> <span class="o">/</span> 
    <span class="nb">sum</span><span class="p">(</span><span class="n">NA_stat_by_rating</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">IndexSlice</span><span class="p">[:,</span> <span class="n">index</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span> <span class="p">:][</span><span class="s1">&#39;NA_sales&#39;</span><span class="p">]))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">rating</span> <span class="ow">in</span> <span class="p">(</span><span class="n">data_new</span>
                 <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;rating&#39;</span><span class="p">)[</span><span class="s1">&#39;NA_sales&#39;</span><span class="p">]</span>
                 <span class="o">.</span><span class="n">sum</span><span class="p">()</span>
                 <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
                 <span class="o">.</span><span class="n">index</span><span class="p">):</span>
    <span class="p">(</span><span class="n">NA_stat_by_rating</span>
     <span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">rating</span><span class="p">][</span><span class="s1">&#39;part&#39;</span><span class="p">]</span>
     <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">,</span> 
           <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> 
           <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> 
           <span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> 
           <span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
           <span class="n">label</span><span class="o">=</span><span class="n">rating</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Share of sales (for each year)&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;NA_sales&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/bb63b9108939fa2fcacb07bb28f90e43ea4ae065f5e9827de1b07bde4d58574f.png" src="_images/bb63b9108939fa2fcacb07bb28f90e43ea4ae065f5e9827de1b07bde4d58574f.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="p">(</span><span class="n">NA_stat_by_rating</span>
       <span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">IndexSlice</span><span class="p">[:,</span> <span class="mi">2015</span><span class="p">],</span> <span class="p">:]</span>
       <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;NA_sales&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
       <span class="p">[</span><span class="s1">&#39;NA_sales&#39;</span><span class="p">]</span>
       <span class="o">.</span><span class="n">droplevel</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
       <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Total sales by rating in 2015 (millions)&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/a7874bcc51ef75a265eeeff33255f9bfbc93054c77b8fcee1cfdc2f850784c17.png" src="_images/a7874bcc51ef75a265eeeff33255f9bfbc93054c77b8fcee1cfdc2f850784c17.png" />
</div>
</div>
<p>Significant, but 80 million hasn’t been collected yet.</p>
<p>If we only consider games with known ratings:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">NA_stat_by_known_rating</span> <span class="o">=</span> <span class="p">(</span><span class="n">data_new</span>
                           <span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;rating != &quot;unknown&quot;&#39;</span><span class="p">)</span>
                           <span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;rating&#39;</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span><span class="p">])</span>
                           <span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="s1">&#39;NA_sales&#39;</span><span class="p">:</span> <span class="s1">&#39;sum&#39;</span><span class="p">}))</span>
<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">NA_stat_by_known_rating</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="n">NA_stat_by_known_rating</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;part&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;NA_sales&#39;</span><span class="p">]</span> <span class="o">/</span> 
    <span class="nb">sum</span><span class="p">(</span><span class="n">NA_stat_by_known_rating</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">IndexSlice</span><span class="p">[:,</span> <span class="n">index</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span> <span class="p">:][</span><span class="s1">&#39;NA_sales&#39;</span><span class="p">]))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">rating</span> <span class="ow">in</span> <span class="p">(</span><span class="n">data_new</span>
               <span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;rating != &quot;unknown&quot;&#39;</span><span class="p">)</span>
               <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;rating&#39;</span><span class="p">)[</span><span class="s1">&#39;NA_sales&#39;</span><span class="p">]</span>
               <span class="o">.</span><span class="n">sum</span><span class="p">()</span>
               <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
               <span class="o">.</span><span class="n">index</span><span class="p">):</span>
    <span class="p">(</span><span class="n">NA_stat_by_known_rating</span>
     <span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">rating</span><span class="p">][</span><span class="s1">&#39;part&#39;</span><span class="p">]</span>
     <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">,</span> 
           <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> 
           <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> 
           <span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> 
           <span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
           <span class="n">label</span><span class="o">=</span><span class="n">rating</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Share of sales (for each year)&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;NA_sales&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/d83703dc818076ecb5b4e62ef0e992cb9a6fc97a93ba0743e115afa12b797d80.png" src="_images/d83703dc818076ecb5b4e62ef0e992cb9a6fc97a93ba0743e115afa12b797d80.png" />
</div>
</div>
<p>Let’s look at average sales</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="p">(</span><span class="n">data_new</span>
       <span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;rating != &quot;unknown&quot;&#39;</span><span class="p">)</span>
       <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;rating&#39;</span><span class="p">)[</span><span class="s1">&#39;NA_sales&#39;</span><span class="p">]</span>
       <span class="o">.</span><span class="n">agg</span><span class="p">([</span><span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;median&#39;</span><span class="p">])</span>
       <span class="o">.</span><span class="n">sort_index</span><span class="p">()</span>
       <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Average sales (millions)&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/ae54e3161beeea310474f5ce4e3457a88be3a7b9612e67c256903ebfe29b3fbc.png" src="_images/ae54e3161beeea310474f5ce4e3457a88be3a7b9612e67c256903ebfe29b3fbc.png" />
</div>
</div>
<p>Let’s compare medians instead of fractions of the sum:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">NA_stat_by_median_rating</span> <span class="o">=</span> <span class="p">(</span><span class="n">data_new</span>
                           <span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;rating != &quot;unknown&quot;&#39;</span><span class="p">)</span>
                           <span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;rating&#39;</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span><span class="p">])</span>
                           <span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="s1">&#39;NA_sales&#39;</span><span class="p">:</span> <span class="s1">&#39;median&#39;</span><span class="p">}))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">rating</span> <span class="ow">in</span> <span class="p">(</span><span class="n">data_new</span>
               <span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;rating != &quot;unknown&quot;&#39;</span><span class="p">)</span>
               <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;rating&#39;</span><span class="p">)[</span><span class="s1">&#39;NA_sales&#39;</span><span class="p">]</span>
               <span class="o">.</span><span class="n">sum</span><span class="p">()</span>
               <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
               <span class="o">.</span><span class="n">index</span><span class="p">):</span>
    <span class="p">(</span><span class="n">NA_stat_by_median_rating</span>
     <span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">rating</span><span class="p">][</span><span class="s1">&#39;NA_sales&#39;</span><span class="p">]</span>
     <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">,</span> 
           <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> 
           <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> 
           <span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> 
           <span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
           <span class="n">label</span><span class="o">=</span><span class="n">rating</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Median sales (for each year)&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;NA_sales&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/4ace3dcc886fbbc2e4d755712e282a5c80c0efd9ba96e3fbbf1b06f63e1305f9.png" src="_images/4ace3dcc886fbbc2e4d755712e282a5c80c0efd9ba96e3fbbf1b06f63e1305f9.png" />
</div>
</div>
<p>Median sales are decreasing, probably because games from previous years continue to be bought while the quantity remains a constant. Not the most illustrative graph.</p>
<p>Nevertheless, the E10+ and M ratings remain the top sellers.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data_new</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>platform</th>
      <th>year</th>
      <th>genre</th>
      <th>NA_sales</th>
      <th>EU_sales</th>
      <th>JP_sales</th>
      <th>other_sales</th>
      <th>critic_score</th>
      <th>user_score</th>
      <th>rating</th>
      <th>sales</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>16</th>
      <td>Grand Theft Auto V</td>
      <td>PS3</td>
      <td>2013</td>
      <td>Action</td>
      <td>7.02</td>
      <td>9.09</td>
      <td>0.98</td>
      <td>3.96</td>
      <td>97.0</td>
      <td>8.2</td>
      <td>M</td>
      <td>21.05</td>
    </tr>
    <tr>
      <th>23</th>
      <td>Grand Theft Auto V</td>
      <td>X360</td>
      <td>2013</td>
      <td>Action</td>
      <td>9.66</td>
      <td>5.14</td>
      <td>0.06</td>
      <td>1.41</td>
      <td>97.0</td>
      <td>8.1</td>
      <td>M</td>
      <td>16.27</td>
    </tr>
    <tr>
      <th>31</th>
      <td>Call of Duty: Black Ops 3</td>
      <td>PS4</td>
      <td>2015</td>
      <td>Shooter</td>
      <td>6.03</td>
      <td>5.86</td>
      <td>0.36</td>
      <td>2.38</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>unknown</td>
      <td>14.63</td>
    </tr>
    <tr>
      <th>33</th>
      <td>Pokemon X/Pokemon Y</td>
      <td>3DS</td>
      <td>2013</td>
      <td>Role-Playing</td>
      <td>5.28</td>
      <td>4.19</td>
      <td>4.35</td>
      <td>0.78</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>unknown</td>
      <td>14.60</td>
    </tr>
    <tr>
      <th>42</th>
      <td>Grand Theft Auto V</td>
      <td>PS4</td>
      <td>2014</td>
      <td>Action</td>
      <td>3.96</td>
      <td>6.31</td>
      <td>0.38</td>
      <td>1.97</td>
      <td>97.0</td>
      <td>8.3</td>
      <td>M</td>
      <td>12.62</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>16432</th>
      <td>Strawberry Nauts</td>
      <td>PSV</td>
      <td>2016</td>
      <td>Adventure</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.01</td>
      <td>0.00</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>unknown</td>
      <td>0.01</td>
    </tr>
    <tr>
      <th>16436</th>
      <td>Aiyoku no Eustia</td>
      <td>PSV</td>
      <td>2014</td>
      <td>Misc</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.01</td>
      <td>0.00</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>unknown</td>
      <td>0.01</td>
    </tr>
    <tr>
      <th>16439</th>
      <td>Samurai Warriors: Sanada Maru</td>
      <td>PS3</td>
      <td>2016</td>
      <td>Action</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.01</td>
      <td>0.00</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>unknown</td>
      <td>0.01</td>
    </tr>
    <tr>
      <th>16441</th>
      <td>Haitaka no Psychedelica</td>
      <td>PSV</td>
      <td>2016</td>
      <td>Adventure</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.01</td>
      <td>0.00</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>unknown</td>
      <td>0.01</td>
    </tr>
    <tr>
      <th>16443</th>
      <td>Winning Post 8 2016</td>
      <td>PSV</td>
      <td>2016</td>
      <td>Simulation</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.01</td>
      <td>0.00</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>unknown</td>
      <td>0.01</td>
    </tr>
  </tbody>
</table>
<p>2233 rows × 12 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data_new_plat</span> <span class="o">=</span> <span class="p">(</span><span class="n">data_new</span>
                 <span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="s1">&#39;platform&#39;</span><span class="p">,</span> 
                              <span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;NA_sales&#39;</span><span class="p">,</span> <span class="s1">&#39;EU_sales&#39;</span><span class="p">,</span> <span class="s1">&#39;JP_sales&#39;</span><span class="p">],</span> 
                              <span class="n">aggfunc</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;median&#39;</span><span class="p">,</span> <span class="s1">&#39;sum&#39;</span><span class="p">]))</span>
<span class="n">data_new_plat</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead tr th {
        text-align: left;
    }

    .dataframe thead tr:last-of-type th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th colspan="3" halign="left">count</th>
      <th colspan="3" halign="left">mean</th>
      <th colspan="3" halign="left">median</th>
      <th colspan="3" halign="left">sum</th>
    </tr>
    <tr>
      <th></th>
      <th>EU_sales</th>
      <th>JP_sales</th>
      <th>NA_sales</th>
      <th>EU_sales</th>
      <th>JP_sales</th>
      <th>NA_sales</th>
      <th>EU_sales</th>
      <th>JP_sales</th>
      <th>NA_sales</th>
      <th>EU_sales</th>
      <th>JP_sales</th>
      <th>NA_sales</th>
    </tr>
    <tr>
      <th>platform</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3DS</th>
      <td>303</td>
      <td>303</td>
      <td>303</td>
      <td>0.102178</td>
      <td>0.223795</td>
      <td>0.126073</td>
      <td>0.000</td>
      <td>0.06</td>
      <td>0.000</td>
      <td>30.96</td>
      <td>67.81</td>
      <td>38.20</td>
    </tr>
    <tr>
      <th>DS</th>
      <td>8</td>
      <td>8</td>
      <td>8</td>
      <td>0.106250</td>
      <td>0.000000</td>
      <td>0.071250</td>
      <td>0.095</td>
      <td>0.00</td>
      <td>0.015</td>
      <td>0.85</td>
      <td>0.00</td>
      <td>0.57</td>
    </tr>
    <tr>
      <th>PC</th>
      <td>189</td>
      <td>189</td>
      <td>189</td>
      <td>0.134180</td>
      <td>0.000000</td>
      <td>0.058783</td>
      <td>0.060</td>
      <td>0.00</td>
      <td>0.000</td>
      <td>25.36</td>
      <td>0.00</td>
      <td>11.11</td>
    </tr>
    <tr>
      <th>PS3</th>
      <td>345</td>
      <td>345</td>
      <td>345</td>
      <td>0.196551</td>
      <td>0.067681</td>
      <td>0.184058</td>
      <td>0.020</td>
      <td>0.03</td>
      <td>0.030</td>
      <td>67.81</td>
      <td>23.35</td>
      <td>63.50</td>
    </tr>
    <tr>
      <th>PS4</th>
      <td>392</td>
      <td>392</td>
      <td>392</td>
      <td>0.359923</td>
      <td>0.040714</td>
      <td>0.277398</td>
      <td>0.080</td>
      <td>0.01</td>
      <td>0.060</td>
      <td>141.09</td>
      <td>15.96</td>
      <td>108.74</td>
    </tr>
    <tr>
      <th>PSP</th>
      <td>67</td>
      <td>67</td>
      <td>67</td>
      <td>0.002537</td>
      <td>0.049104</td>
      <td>0.000000</td>
      <td>0.000</td>
      <td>0.02</td>
      <td>0.000</td>
      <td>0.17</td>
      <td>3.29</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>PSV</th>
      <td>358</td>
      <td>358</td>
      <td>358</td>
      <td>0.017039</td>
      <td>0.051927</td>
      <td>0.014078</td>
      <td>0.000</td>
      <td>0.03</td>
      <td>0.000</td>
      <td>6.10</td>
      <td>18.59</td>
      <td>5.04</td>
    </tr>
    <tr>
      <th>Wii</th>
      <td>23</td>
      <td>23</td>
      <td>23</td>
      <td>0.257826</td>
      <td>0.002174</td>
      <td>0.285217</td>
      <td>0.100</td>
      <td>0.00</td>
      <td>0.040</td>
      <td>5.93</td>
      <td>0.05</td>
      <td>6.56</td>
    </tr>
    <tr>
      <th>WiiU</th>
      <td>115</td>
      <td>115</td>
      <td>115</td>
      <td>0.172609</td>
      <td>0.094609</td>
      <td>0.254000</td>
      <td>0.070</td>
      <td>0.00</td>
      <td>0.090</td>
      <td>19.85</td>
      <td>10.88</td>
      <td>29.21</td>
    </tr>
    <tr>
      <th>X360</th>
      <td>186</td>
      <td>186</td>
      <td>186</td>
      <td>0.228602</td>
      <td>0.002742</td>
      <td>0.439032</td>
      <td>0.080</td>
      <td>0.00</td>
      <td>0.150</td>
      <td>42.52</td>
      <td>0.51</td>
      <td>81.66</td>
    </tr>
    <tr>
      <th>XOne</th>
      <td>247</td>
      <td>247</td>
      <td>247</td>
      <td>0.208866</td>
      <td>0.001377</td>
      <td>0.377004</td>
      <td>0.070</td>
      <td>0.00</td>
      <td>0.120</td>
      <td>51.59</td>
      <td>0.34</td>
      <td>93.12</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data_new_genre</span> <span class="o">=</span> <span class="p">(</span><span class="n">data_new</span>
                 <span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="s1">&#39;genre&#39;</span><span class="p">,</span> 
                              <span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;NA_sales&#39;</span><span class="p">,</span> <span class="s1">&#39;EU_sales&#39;</span><span class="p">,</span> <span class="s1">&#39;JP_sales&#39;</span><span class="p">],</span> 
                              <span class="n">aggfunc</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;median&#39;</span><span class="p">,</span> <span class="s1">&#39;sum&#39;</span><span class="p">]))</span>
<span class="n">data_new_genre</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead tr th {
        text-align: left;
    }

    .dataframe thead tr:last-of-type th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th colspan="3" halign="left">count</th>
      <th colspan="3" halign="left">mean</th>
      <th colspan="3" halign="left">median</th>
      <th colspan="3" halign="left">sum</th>
    </tr>
    <tr>
      <th></th>
      <th>EU_sales</th>
      <th>JP_sales</th>
      <th>NA_sales</th>
      <th>EU_sales</th>
      <th>JP_sales</th>
      <th>NA_sales</th>
      <th>EU_sales</th>
      <th>JP_sales</th>
      <th>NA_sales</th>
      <th>EU_sales</th>
      <th>JP_sales</th>
      <th>NA_sales</th>
    </tr>
    <tr>
      <th>genre</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Action</th>
      <td>766</td>
      <td>766</td>
      <td>766</td>
      <td>0.154217</td>
      <td>0.052859</td>
      <td>0.164556</td>
      <td>0.020</td>
      <td>0.01</td>
      <td>0.020</td>
      <td>118.13</td>
      <td>40.49</td>
      <td>126.05</td>
    </tr>
    <tr>
      <th>Adventure</th>
      <td>245</td>
      <td>245</td>
      <td>245</td>
      <td>0.033673</td>
      <td>0.023755</td>
      <td>0.029143</td>
      <td>0.000</td>
      <td>0.01</td>
      <td>0.000</td>
      <td>8.25</td>
      <td>5.82</td>
      <td>7.14</td>
    </tr>
    <tr>
      <th>Fighting</th>
      <td>80</td>
      <td>80</td>
      <td>80</td>
      <td>0.106875</td>
      <td>0.095625</td>
      <td>0.194375</td>
      <td>0.020</td>
      <td>0.03</td>
      <td>0.045</td>
      <td>8.55</td>
      <td>7.65</td>
      <td>15.55</td>
    </tr>
    <tr>
      <th>Misc</th>
      <td>155</td>
      <td>155</td>
      <td>155</td>
      <td>0.129290</td>
      <td>0.059355</td>
      <td>0.177355</td>
      <td>0.010</td>
      <td>0.02</td>
      <td>0.010</td>
      <td>20.04</td>
      <td>9.20</td>
      <td>27.49</td>
    </tr>
    <tr>
      <th>Platform</th>
      <td>74</td>
      <td>74</td>
      <td>74</td>
      <td>0.210541</td>
      <td>0.064730</td>
      <td>0.245135</td>
      <td>0.080</td>
      <td>0.00</td>
      <td>0.090</td>
      <td>15.58</td>
      <td>4.79</td>
      <td>18.14</td>
    </tr>
    <tr>
      <th>Puzzle</th>
      <td>17</td>
      <td>17</td>
      <td>17</td>
      <td>0.058824</td>
      <td>0.069412</td>
      <td>0.048824</td>
      <td>0.000</td>
      <td>0.02</td>
      <td>0.000</td>
      <td>1.00</td>
      <td>1.18</td>
      <td>0.83</td>
    </tr>
    <tr>
      <th>Racing</th>
      <td>85</td>
      <td>85</td>
      <td>85</td>
      <td>0.237529</td>
      <td>0.027059</td>
      <td>0.152471</td>
      <td>0.060</td>
      <td>0.00</td>
      <td>0.030</td>
      <td>20.19</td>
      <td>2.30</td>
      <td>12.96</td>
    </tr>
    <tr>
      <th>Role-Playing</th>
      <td>292</td>
      <td>292</td>
      <td>292</td>
      <td>0.126610</td>
      <td>0.174795</td>
      <td>0.158904</td>
      <td>0.010</td>
      <td>0.05</td>
      <td>0.020</td>
      <td>36.97</td>
      <td>51.04</td>
      <td>46.40</td>
    </tr>
    <tr>
      <th>Shooter</th>
      <td>187</td>
      <td>187</td>
      <td>187</td>
      <td>0.469840</td>
      <td>0.035348</td>
      <td>0.586845</td>
      <td>0.190</td>
      <td>0.00</td>
      <td>0.200</td>
      <td>87.86</td>
      <td>6.61</td>
      <td>109.74</td>
    </tr>
    <tr>
      <th>Simulation</th>
      <td>62</td>
      <td>62</td>
      <td>62</td>
      <td>0.176129</td>
      <td>0.072903</td>
      <td>0.078387</td>
      <td>0.035</td>
      <td>0.00</td>
      <td>0.000</td>
      <td>10.92</td>
      <td>4.52</td>
      <td>4.86</td>
    </tr>
    <tr>
      <th>Sports</th>
      <td>214</td>
      <td>214</td>
      <td>214</td>
      <td>0.282804</td>
      <td>0.025280</td>
      <td>0.305000</td>
      <td>0.050</td>
      <td>0.00</td>
      <td>0.080</td>
      <td>60.52</td>
      <td>5.41</td>
      <td>65.27</td>
    </tr>
    <tr>
      <th>Strategy</th>
      <td>56</td>
      <td>56</td>
      <td>56</td>
      <td>0.075357</td>
      <td>0.031607</td>
      <td>0.058571</td>
      <td>0.025</td>
      <td>0.00</td>
      <td>0.000</td>
      <td>4.22</td>
      <td>1.77</td>
      <td>3.28</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data_new_rating</span> <span class="o">=</span> <span class="p">(</span><span class="n">data_new</span>
                 <span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="s1">&#39;rating&#39;</span><span class="p">,</span> 
                              <span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;NA_sales&#39;</span><span class="p">,</span> <span class="s1">&#39;EU_sales&#39;</span><span class="p">,</span> <span class="s1">&#39;JP_sales&#39;</span><span class="p">],</span> 
                              <span class="n">aggfunc</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;median&#39;</span><span class="p">,</span> <span class="s1">&#39;sum&#39;</span><span class="p">]))</span>
<span class="n">data_new_rating</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead tr th {
        text-align: left;
    }

    .dataframe thead tr:last-of-type th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th colspan="3" halign="left">count</th>
      <th colspan="3" halign="left">mean</th>
      <th colspan="3" halign="left">median</th>
      <th colspan="3" halign="left">sum</th>
    </tr>
    <tr>
      <th></th>
      <th>EU_sales</th>
      <th>JP_sales</th>
      <th>NA_sales</th>
      <th>EU_sales</th>
      <th>JP_sales</th>
      <th>NA_sales</th>
      <th>EU_sales</th>
      <th>JP_sales</th>
      <th>NA_sales</th>
      <th>EU_sales</th>
      <th>JP_sales</th>
      <th>NA_sales</th>
    </tr>
    <tr>
      <th>rating</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>E</th>
      <td>302</td>
      <td>302</td>
      <td>302</td>
      <td>0.276026</td>
      <td>0.050132</td>
      <td>0.261755</td>
      <td>0.055</td>
      <td>0.00</td>
      <td>0.05</td>
      <td>83.36</td>
      <td>15.14</td>
      <td>79.05</td>
    </tr>
    <tr>
      <th>E10+</th>
      <td>252</td>
      <td>252</td>
      <td>252</td>
      <td>0.169405</td>
      <td>0.023373</td>
      <td>0.215238</td>
      <td>0.100</td>
      <td>0.00</td>
      <td>0.12</td>
      <td>42.69</td>
      <td>5.89</td>
      <td>54.24</td>
    </tr>
    <tr>
      <th>M</th>
      <td>369</td>
      <td>369</td>
      <td>369</td>
      <td>0.393821</td>
      <td>0.038238</td>
      <td>0.447724</td>
      <td>0.130</td>
      <td>0.00</td>
      <td>0.14</td>
      <td>145.32</td>
      <td>14.11</td>
      <td>165.21</td>
    </tr>
    <tr>
      <th>T</th>
      <td>333</td>
      <td>333</td>
      <td>333</td>
      <td>0.125976</td>
      <td>0.061832</td>
      <td>0.149520</td>
      <td>0.040</td>
      <td>0.01</td>
      <td>0.04</td>
      <td>41.95</td>
      <td>20.59</td>
      <td>49.79</td>
    </tr>
    <tr>
      <th>unknown</th>
      <td>977</td>
      <td>977</td>
      <td>977</td>
      <td>0.080768</td>
      <td>0.087052</td>
      <td>0.091525</td>
      <td>0.000</td>
      <td>0.02</td>
      <td>0.00</td>
      <td>78.91</td>
      <td>85.05</td>
      <td>89.42</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="europe">
<h3>Europe<a class="headerlink" href="#europe" title="Link to this heading">#</a></h3>
<p>This time we’re grouping with pivot tables:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">eu_stat</span> <span class="o">=</span> <span class="p">(</span><span class="n">data_new</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;platform&#39;</span><span class="p">,</span> <span class="s1">&#39;genre&#39;</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span><span class="p">],</span> 
                                <span class="n">values</span><span class="o">=</span><span class="s1">&#39;EU_sales&#39;</span><span class="p">,</span>
                                <span class="n">aggfunc</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;median&#39;</span><span class="p">,</span> <span class="s1">&#39;sum&#39;</span><span class="p">]))</span>
<span class="n">eu_stat</span> <span class="o">=</span> <span class="n">eu_stat</span><span class="o">.</span><span class="n">droplevel</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">eu_stat</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th></th>
      <th>count</th>
      <th>mean</th>
      <th>median</th>
      <th>sum</th>
    </tr>
    <tr>
      <th>platform</th>
      <th>genre</th>
      <th>year</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="5" valign="top">3DS</th>
      <th rowspan="4" valign="top">Action</th>
      <th>2013</th>
      <td>29</td>
      <td>0.111724</td>
      <td>0.00</td>
      <td>3.24</td>
    </tr>
    <tr>
      <th>2014</th>
      <td>26</td>
      <td>0.046538</td>
      <td>0.01</td>
      <td>1.21</td>
    </tr>
    <tr>
      <th>2015</th>
      <td>39</td>
      <td>0.046667</td>
      <td>0.00</td>
      <td>1.82</td>
    </tr>
    <tr>
      <th>2016</th>
      <td>22</td>
      <td>0.031818</td>
      <td>0.00</td>
      <td>0.70</td>
    </tr>
    <tr>
      <th>Adventure</th>
      <th>2013</th>
      <td>6</td>
      <td>0.053333</td>
      <td>0.01</td>
      <td>0.32</td>
    </tr>
    <tr>
      <th>...</th>
      <th>...</th>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th rowspan="5" valign="top">XOne</th>
      <th rowspan="2" valign="top">Sports</th>
      <th>2015</th>
      <td>13</td>
      <td>0.217692</td>
      <td>0.05</td>
      <td>2.83</td>
    </tr>
    <tr>
      <th>2016</th>
      <td>11</td>
      <td>0.237273</td>
      <td>0.03</td>
      <td>2.61</td>
    </tr>
    <tr>
      <th rowspan="3" valign="top">Strategy</th>
      <th>2013</th>
      <td>1</td>
      <td>0.040000</td>
      <td>0.04</td>
      <td>0.04</td>
    </tr>
    <tr>
      <th>2015</th>
      <td>1</td>
      <td>0.050000</td>
      <td>0.05</td>
      <td>0.05</td>
    </tr>
    <tr>
      <th>2016</th>
      <td>1</td>
      <td>0.020000</td>
      <td>0.02</td>
      <td>0.02</td>
    </tr>
  </tbody>
</table>
<p>335 rows × 4 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">eu_stat</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">IndexSlice</span><span class="p">[:,</span> <span class="s1">&#39;Sports&#39;</span><span class="p">,</span> <span class="p">:],</span> <span class="p">:]</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th></th>
      <th>count</th>
      <th>mean</th>
      <th>median</th>
      <th>sum</th>
    </tr>
    <tr>
      <th>platform</th>
      <th>genre</th>
      <th>year</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="3" valign="top">3DS</th>
      <th rowspan="3" valign="top">Sports</th>
      <th>2013</th>
      <td>3</td>
      <td>0.076667</td>
      <td>0.010</td>
      <td>0.23</td>
    </tr>
    <tr>
      <th>2014</th>
      <td>4</td>
      <td>0.117500</td>
      <td>0.065</td>
      <td>0.47</td>
    </tr>
    <tr>
      <th>2015</th>
      <td>1</td>
      <td>0.000000</td>
      <td>0.000</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>DS</th>
      <th>Sports</th>
      <th>2013</th>
      <td>1</td>
      <td>0.030000</td>
      <td>0.030</td>
      <td>0.03</td>
    </tr>
    <tr>
      <th rowspan="4" valign="top">PC</th>
      <th rowspan="4" valign="top">Sports</th>
      <th>2013</th>
      <td>2</td>
      <td>0.480000</td>
      <td>0.480</td>
      <td>0.96</td>
    </tr>
    <tr>
      <th>2014</th>
      <td>2</td>
      <td>0.165000</td>
      <td>0.165</td>
      <td>0.33</td>
    </tr>
    <tr>
      <th>2015</th>
      <td>4</td>
      <td>0.060000</td>
      <td>0.050</td>
      <td>0.24</td>
    </tr>
    <tr>
      <th>2016</th>
      <td>5</td>
      <td>0.042000</td>
      <td>0.030</td>
      <td>0.21</td>
    </tr>
    <tr>
      <th rowspan="2" valign="top">PS3</th>
      <th rowspan="2" valign="top">Sports</th>
      <th>2013</th>
      <td>14</td>
      <td>0.382857</td>
      <td>0.005</td>
      <td>5.36</td>
    </tr>
    <tr>
      <th>2014</th>
      <td>13</td>
      <td>0.330769</td>
      <td>0.090</td>
      <td>4.30</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">eu_stat</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">tail</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>count</th>
      <th>mean</th>
      <th>median</th>
      <th>sum</th>
    </tr>
    <tr>
      <th>platform</th>
      <th>year</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="2" valign="top">WiiU</th>
      <th>2015</th>
      <td>28</td>
      <td>2.036786</td>
      <td>1.750</td>
      <td>5.01</td>
    </tr>
    <tr>
      <th>2016</th>
      <td>14</td>
      <td>0.778333</td>
      <td>0.755</td>
      <td>1.48</td>
    </tr>
    <tr>
      <th rowspan="4" valign="top">X360</th>
      <th>2013</th>
      <td>75</td>
      <td>2.930619</td>
      <td>1.520</td>
      <td>27.03</td>
    </tr>
    <tr>
      <th>2014</th>
      <td>63</td>
      <td>1.255408</td>
      <td>0.760</td>
      <td>11.28</td>
    </tr>
    <tr>
      <th>2015</th>
      <td>35</td>
      <td>0.734573</td>
      <td>0.420</td>
      <td>3.50</td>
    </tr>
    <tr>
      <th>2016</th>
      <td>13</td>
      <td>0.243333</td>
      <td>0.190</td>
      <td>0.71</td>
    </tr>
    <tr>
      <th rowspan="4" valign="top">XOne</th>
      <th>2013</th>
      <td>19</td>
      <td>2.165000</td>
      <td>2.005</td>
      <td>5.34</td>
    </tr>
    <tr>
      <th>2014</th>
      <td>61</td>
      <td>2.143619</td>
      <td>1.650</td>
      <td>18.15</td>
    </tr>
    <tr>
      <th>2015</th>
      <td>80</td>
      <td>2.042618</td>
      <td>0.940</td>
      <td>18.47</td>
    </tr>
    <tr>
      <th>2016</th>
      <td>87</td>
      <td>0.887591</td>
      <td>0.440</td>
      <td>9.63</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Let’s count all sales for each platform for the period of 2012-2016.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="p">(</span><span class="n">eu_stat</span>
       <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
       <span class="p">[</span><span class="s1">&#39;sum&#39;</span><span class="p">]</span>
       <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
       <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Total sales for the current period&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Millions&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Platform&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/16fa1aedbf1bd64b61cb3dd02b16ed8fb9be34d3a6e66b600e83fd4426b71239.png" src="_images/16fa1aedbf1bd64b61cb3dd02b16ed8fb9be34d3a6e66b600e83fd4426b71239.png" />
</div>
</div>
<p>The leaders are the same. Let’s see how their popularity changed over time. <a id='EU_platforms'></a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">platform</span> <span class="ow">in</span> <span class="n">eu_stat</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">levels</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
    <span class="p">(</span><span class="n">eu_stat</span>
     <span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">IndexSlice</span><span class="p">[</span><span class="n">platform</span><span class="p">,</span> <span class="p">:,</span> <span class="p">:],</span> <span class="p">:]</span>
     <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;year&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
     <span class="p">[</span><span class="s1">&#39;sum&#39;</span><span class="p">]</span>
     <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">,</span> 
           <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> 
           <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> 
           <span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> 
           <span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
           <span class="n">label</span><span class="o">=</span><span class="n">platform</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Sales&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Yeas&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Millions&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/c84ae1208961fa77b75dc52bb6f5d1b5ca8dfac8354422381e0014cc9bc46738.png" src="_images/c84ae1208961fa77b75dc52bb6f5d1b5ca8dfac8354422381e0014cc9bc46738.png" />
</div>
</div>
<p>Apparently, the PS4 is popular in Europe. The XOne is a weak competitor, which distinguishes this market from North America.</p>
<p>Let’s now examine the breakdown by genre.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="p">(</span><span class="n">eu_stat</span>
       <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
       <span class="p">[</span><span class="s1">&#39;sum&#39;</span><span class="p">]</span>
       <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
       <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">rot</span><span class="o">=</span><span class="mi">30</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Total sales for the current period&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Millions&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Genre&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/733a3e26fe57225d46433c5d688bcf93b3173c40834ecb777365ecec80ecd654.png" src="_images/733a3e26fe57225d46433c5d688bcf93b3173c40834ecb777365ecec80ecd654.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">genre</span> <span class="ow">in</span> <span class="n">eu_stat</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">levels</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
    <span class="p">(</span><span class="n">eu_stat</span>
     <span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">IndexSlice</span><span class="p">[:,</span> <span class="n">genre</span><span class="p">,</span> <span class="p">:],</span> <span class="p">:]</span>
     <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;year&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
     <span class="p">[</span><span class="s1">&#39;sum&#39;</span><span class="p">]</span>
     <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">,</span> 
           <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> 
           <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> 
           <span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> 
           <span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
           <span class="n">label</span><span class="o">=</span><span class="n">genre</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Sales&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Millions&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/ad22e36cacf7d5fa204939c6687a70e7b17dbf0c1b591ce572c53ec9239d1f5d.png" src="_images/ad22e36cacf7d5fa204939c6687a70e7b17dbf0c1b591ce572c53ec9239d1f5d.png" />
</div>
</div>
<p>Instead of total sales, let’s try looking at the shares of genres in each year.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">eu_stat</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="n">eu_stat</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;part&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;sum&#39;</span><span class="p">]</span> <span class="o">/</span> <span class="n">eu_stat</span><span class="p">[</span><span class="s1">&#39;sum&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;year&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()[</span><span class="n">index</span><span class="p">[</span><span class="mi">2</span><span class="p">]])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">eu_stat</span><span class="p">[</span><span class="s1">&#39;part&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4.0
</pre></div>
</div>
</div>
</div>
<p><a id='EU_genres'></a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">genre</span> <span class="ow">in</span> <span class="n">eu_stat</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">levels</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
    <span class="p">(</span><span class="n">eu_stat</span>
     <span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">IndexSlice</span><span class="p">[:,</span> <span class="n">genre</span><span class="p">,</span> <span class="p">:],</span> <span class="p">:]</span>
     <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;year&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
     <span class="p">[</span><span class="s1">&#39;part&#39;</span><span class="p">]</span>
     <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">,</span> 
           <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> 
           <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> 
           <span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> 
           <span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
           <span class="n">label</span><span class="o">=</span><span class="n">genre</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Share of sales&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Share&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/1b4db7f0384d68b997d21924db748861f32e42c7833027c5287c74ba17ba8fd3.png" src="_images/1b4db7f0384d68b997d21924db748861f32e42c7833027c5287c74ba17ba8fd3.png" />
</div>
</div>
<p>Taking into account that the data for 2016 is incomplete, the most popular genres are Action, Shooter, Sports and Role-Playing, with shooters and RPGs rising and action games falling.</p>
<p>Now for the age ranking stats.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">eu_rating</span> <span class="o">=</span> <span class="p">(</span><span class="n">data_new</span>
             <span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;rating&#39;</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span><span class="p">],</span> 
                          <span class="n">values</span><span class="o">=</span><span class="s1">&#39;EU_sales&#39;</span><span class="p">,</span>
                          <span class="n">aggfunc</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;median&#39;</span><span class="p">,</span> <span class="s1">&#39;sum&#39;</span><span class="p">])</span>
             <span class="o">.</span><span class="n">droplevel</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">eu_rating</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="n">eu_rating</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;part&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;sum&#39;</span><span class="p">]</span> <span class="o">/</span> 
                                    <span class="n">eu_rating</span><span class="p">[</span><span class="s1">&#39;sum&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;year&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()[</span><span class="n">index</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span>
<span class="n">eu_rating</span><span class="o">.</span><span class="n">tail</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>             
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>count</th>
      <th>mean</th>
      <th>median</th>
      <th>sum</th>
      <th>part</th>
    </tr>
    <tr>
      <th>rating</th>
      <th>year</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="2" valign="top">M</th>
      <th>2015</th>
      <td>71</td>
      <td>0.408451</td>
      <td>0.130</td>
      <td>29.00</td>
      <td>0.299835</td>
    </tr>
    <tr>
      <th>2016</th>
      <td>78</td>
      <td>0.212051</td>
      <td>0.050</td>
      <td>16.54</td>
      <td>0.322921</td>
    </tr>
    <tr>
      <th rowspan="4" valign="top">T</th>
      <th>2013</th>
      <td>62</td>
      <td>0.127097</td>
      <td>0.045</td>
      <td>7.88</td>
      <td>0.064829</td>
    </tr>
    <tr>
      <th>2014</th>
      <td>79</td>
      <td>0.174051</td>
      <td>0.040</td>
      <td>13.75</td>
      <td>0.112025</td>
    </tr>
    <tr>
      <th>2015</th>
      <td>106</td>
      <td>0.099340</td>
      <td>0.035</td>
      <td>10.53</td>
      <td>0.108871</td>
    </tr>
    <tr>
      <th>2016</th>
      <td>86</td>
      <td>0.113837</td>
      <td>0.035</td>
      <td>9.79</td>
      <td>0.191136</td>
    </tr>
    <tr>
      <th rowspan="4" valign="top">unknown</th>
      <th>2013</th>
      <td>228</td>
      <td>0.087544</td>
      <td>0.000</td>
      <td>19.96</td>
      <td>0.164212</td>
    </tr>
    <tr>
      <th>2014</th>
      <td>236</td>
      <td>0.098475</td>
      <td>0.000</td>
      <td>23.24</td>
      <td>0.189343</td>
    </tr>
    <tr>
      <th>2015</th>
      <td>291</td>
      <td>0.097045</td>
      <td>0.000</td>
      <td>28.24</td>
      <td>0.291977</td>
    </tr>
    <tr>
      <th>2016</th>
      <td>222</td>
      <td>0.033649</td>
      <td>0.000</td>
      <td>7.47</td>
      <td>0.145841</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">eu_known_rating</span> <span class="o">=</span> <span class="p">(</span><span class="n">data_new</span>
                   <span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;rating != &quot;unknown&quot;&#39;</span><span class="p">)</span>
                   <span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;rating&#39;</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span><span class="p">],</span> 
                                <span class="n">values</span><span class="o">=</span><span class="s1">&#39;EU_sales&#39;</span><span class="p">,</span> 
                                <span class="n">aggfunc</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;median&#39;</span><span class="p">,</span> <span class="s1">&#39;sum&#39;</span><span class="p">])</span>
                   <span class="o">.</span><span class="n">droplevel</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">eu_known_rating</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="n">eu_known_rating</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;part&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;sum&#39;</span><span class="p">]</span> <span class="o">/</span> 
                                    <span class="n">eu_known_rating</span><span class="p">[</span><span class="s1">&#39;sum&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;year&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()[</span><span class="n">index</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span>
<span class="n">eu_known_rating</span><span class="o">.</span><span class="n">tail</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>       
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>count</th>
      <th>mean</th>
      <th>median</th>
      <th>sum</th>
      <th>part</th>
    </tr>
    <tr>
      <th>rating</th>
      <th>year</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="2" valign="top">E10+</th>
      <th>2015</th>
      <td>51</td>
      <td>0.151569</td>
      <td>0.060</td>
      <td>7.73</td>
      <td>0.112880</td>
    </tr>
    <tr>
      <th>2016</th>
      <td>50</td>
      <td>0.076200</td>
      <td>0.060</td>
      <td>3.81</td>
      <td>0.087086</td>
    </tr>
    <tr>
      <th rowspan="4" valign="top">M</th>
      <th>2013</th>
      <td>104</td>
      <td>0.498846</td>
      <td>0.140</td>
      <td>51.88</td>
      <td>0.510680</td>
    </tr>
    <tr>
      <th>2014</th>
      <td>116</td>
      <td>0.412931</td>
      <td>0.160</td>
      <td>47.90</td>
      <td>0.481407</td>
    </tr>
    <tr>
      <th>2015</th>
      <td>71</td>
      <td>0.408451</td>
      <td>0.130</td>
      <td>29.00</td>
      <td>0.423481</td>
    </tr>
    <tr>
      <th>2016</th>
      <td>78</td>
      <td>0.212051</td>
      <td>0.050</td>
      <td>16.54</td>
      <td>0.378057</td>
    </tr>
    <tr>
      <th rowspan="4" valign="top">T</th>
      <th>2013</th>
      <td>62</td>
      <td>0.127097</td>
      <td>0.045</td>
      <td>7.88</td>
      <td>0.077567</td>
    </tr>
    <tr>
      <th>2014</th>
      <td>79</td>
      <td>0.174051</td>
      <td>0.040</td>
      <td>13.75</td>
      <td>0.138191</td>
    </tr>
    <tr>
      <th>2015</th>
      <td>106</td>
      <td>0.099340</td>
      <td>0.035</td>
      <td>10.53</td>
      <td>0.153768</td>
    </tr>
    <tr>
      <th>2016</th>
      <td>86</td>
      <td>0.113837</td>
      <td>0.035</td>
      <td>9.79</td>
      <td>0.223771</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">eu_rating</span><span class="p">[</span><span class="s1">&#39;sum&#39;</span><span class="p">]</span>
 <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;rating&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
 <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
 <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Total sales for the current period&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Millions&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Age rating&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/9822cd5bf34c59c2b32a0cdb69ca783c05a3288a1fad5c1d5b1f59932fd5513b.png" src="_images/9822cd5bf34c59c2b32a0cdb69ca783c05a3288a1fad5c1d5b1f59932fd5513b.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">eu_rating</span>
 <span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">IndexSlice</span><span class="p">[:,</span> <span class="mi">2015</span><span class="p">],</span> <span class="p">:]</span>
 <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;rating&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
 <span class="p">[</span><span class="s1">&#39;sum&#39;</span><span class="p">]</span>
 <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
 <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Total sales by rating for 2015&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Millions&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Age rating&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/6e53ea132660dbc0565c39972c65c41ab65630d12409eed62eec7b5a80852283.png" src="_images/6e53ea132660dbc0565c39972c65c41ab65630d12409eed62eec7b5a80852283.png" />
</div>
</div>
<p>Same trend. Apparently, the surge in 2015 is not tied to the region.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">rating</span> <span class="ow">in</span> <span class="n">eu_known_rating</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">levels</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
    <span class="p">(</span><span class="n">eu_known_rating</span>
     <span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">IndexSlice</span><span class="p">[</span><span class="n">rating</span><span class="p">,</span> <span class="p">:]]</span>
     <span class="p">[</span><span class="s1">&#39;part&#39;</span><span class="p">]</span>
     <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">,</span> 
           <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> 
           <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> 
           <span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> 
           <span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
           <span class="n">label</span><span class="o">=</span><span class="n">rating</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Sales&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="c1"># plt.ylabel(&#39;Share&#39;, fontsize=15, rotation=0)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/ec1d53230c0bed1a80521672fb2df02c18edfe184eaf301a5a7079270490a424.png" src="_images/ec1d53230c0bed1a80521672fb2df02c18edfe184eaf301a5a7079270490a424.png" />
</div>
</div>
<p>Even though the 17+ rating is still the best-selling category, the all-ages rating is catching up to it.</p>
</section>
<section id="japan">
<h3>Japan<a class="headerlink" href="#japan" title="Link to this heading">#</a></h3>
<p>Let’s apply the same functions.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">jp_stat</span> <span class="o">=</span> <span class="p">(</span><span class="n">data_new</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;platform&#39;</span><span class="p">,</span> <span class="s1">&#39;genre&#39;</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span><span class="p">],</span> 
                                <span class="n">values</span><span class="o">=</span><span class="s1">&#39;JP_sales&#39;</span><span class="p">,</span>
                                <span class="n">aggfunc</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;median&#39;</span><span class="p">,</span> <span class="s1">&#39;sum&#39;</span><span class="p">]))</span>
<span class="n">jp_stat</span> <span class="o">=</span> <span class="n">jp_stat</span><span class="o">.</span><span class="n">droplevel</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">jp_stat</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="n">jp_stat</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;part&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;sum&#39;</span><span class="p">]</span> <span class="o">/</span> 
                                  <span class="n">jp_stat</span><span class="p">[</span><span class="s1">&#39;sum&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;year&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()[</span><span class="n">index</span><span class="p">[</span><span class="mi">2</span><span class="p">]])</span>
<span class="n">jp_stat</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th></th>
      <th>count</th>
      <th>mean</th>
      <th>median</th>
      <th>sum</th>
      <th>part</th>
    </tr>
    <tr>
      <th>platform</th>
      <th>genre</th>
      <th>year</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="5" valign="top">3DS</th>
      <th rowspan="4" valign="top">Action</th>
      <th>2013</th>
      <td>29</td>
      <td>0.132414</td>
      <td>0.040</td>
      <td>3.84</td>
      <td>0.080520</td>
    </tr>
    <tr>
      <th>2014</th>
      <td>26</td>
      <td>0.038077</td>
      <td>0.005</td>
      <td>0.99</td>
      <td>0.024943</td>
    </tr>
    <tr>
      <th>2015</th>
      <td>39</td>
      <td>0.220256</td>
      <td>0.050</td>
      <td>8.59</td>
      <td>0.251980</td>
    </tr>
    <tr>
      <th>2016</th>
      <td>22</td>
      <td>0.166818</td>
      <td>0.045</td>
      <td>3.67</td>
      <td>0.190057</td>
    </tr>
    <tr>
      <th>Adventure</th>
      <th>2013</th>
      <td>6</td>
      <td>0.171667</td>
      <td>0.060</td>
      <td>1.03</td>
      <td>0.021598</td>
    </tr>
    <tr>
      <th>...</th>
      <th>...</th>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th rowspan="5" valign="top">XOne</th>
      <th rowspan="2" valign="top">Sports</th>
      <th>2015</th>
      <td>13</td>
      <td>0.000000</td>
      <td>0.000</td>
      <td>0.00</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>2016</th>
      <td>11</td>
      <td>0.000000</td>
      <td>0.000</td>
      <td>0.00</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th rowspan="3" valign="top">Strategy</th>
      <th>2013</th>
      <td>1</td>
      <td>0.000000</td>
      <td>0.000</td>
      <td>0.00</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>2015</th>
      <td>1</td>
      <td>0.000000</td>
      <td>0.000</td>
      <td>0.00</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>2016</th>
      <td>1</td>
      <td>0.000000</td>
      <td>0.000</td>
      <td>0.00</td>
      <td>0.000000</td>
    </tr>
  </tbody>
</table>
<p>335 rows × 5 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="p">(</span><span class="n">jp_stat</span>
       <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
       <span class="p">[</span><span class="s1">&#39;sum&#39;</span><span class="p">]</span>
       <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
       <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Total sales by platform for the current period&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Millions&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Platform&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/a1dfd780de45410368150d4507e0e6146f59784e812ddd07422d2e68099837f2.png" src="_images/a1dfd780de45410368150d4507e0e6146f59784e812ddd07422d2e68099837f2.png" />
</div>
</div>
<p>In Japan, the Play Station line is already in second place.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">platform</span> <span class="ow">in</span> <span class="n">jp_stat</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">levels</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
    <span class="p">(</span><span class="n">jp_stat</span>
     <span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">IndexSlice</span><span class="p">[</span><span class="n">platform</span><span class="p">,</span> <span class="p">:,</span> <span class="p">:],</span> <span class="p">:]</span>
     <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;year&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
     <span class="p">[</span><span class="s1">&#39;sum&#39;</span><span class="p">]</span>
     <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">,</span> 
           <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> 
           <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> 
           <span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> 
           <span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
           <span class="n">label</span><span class="o">=</span><span class="n">platform</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Sales by platform&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Millions&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/1eaf4b0fc168f3a77498c522c69e91dcc4ad993170ce5bfd8051c94767a8d6ad.png" src="_images/1eaf4b0fc168f3a77498c522c69e91dcc4ad993170ce5bfd8051c94767a8d6ad.png" />
</div>
</div>
<p><a id='JP_platforms'></a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">platform</span> <span class="ow">in</span> <span class="n">jp_stat</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">levels</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
    <span class="p">(</span><span class="n">jp_stat</span>
     <span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">IndexSlice</span><span class="p">[</span><span class="n">platform</span><span class="p">,</span> <span class="p">:,</span> <span class="p">:],</span> <span class="p">:]</span>
     <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;year&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
     <span class="p">[</span><span class="s1">&#39;part&#39;</span><span class="p">]</span>
     <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">,</span> 
           <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> 
           <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> 
           <span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> 
           <span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
           <span class="n">label</span><span class="o">=</span><span class="n">platform</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Share of sales by platform&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Millions&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/3ebf46ec53728ee8938875d7595b5d1f07ae6f19d0d25a0fcb291b4c4ffa62cb.png" src="_images/3ebf46ec53728ee8938875d7595b5d1f07ae6f19d0d25a0fcb291b4c4ffa62cb.png" />
</div>
</div>
<p>The 3DS is unlikely to sag much, but the PS4 and PSV are pushing out other models.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="p">(</span><span class="n">jp_stat</span>
       <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
       <span class="p">[</span><span class="s1">&#39;sum&#39;</span><span class="p">]</span>
       <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
       <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">rot</span><span class="o">=</span><span class="mi">30</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Total sales by genre for the current period&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Millions&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Genre&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/b19a002b6de1014602da71e33c70d2c473ed5ab0c214ecdd9d53dbe8f78dbc06.png" src="_images/b19a002b6de1014602da71e33c70d2c473ed5ab0c214ecdd9d53dbe8f78dbc06.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">genre</span> <span class="ow">in</span> <span class="n">jp_stat</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">levels</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
    <span class="p">(</span><span class="n">jp_stat</span>
     <span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">IndexSlice</span><span class="p">[:,</span> <span class="n">genre</span><span class="p">,</span> <span class="p">:],</span> <span class="p">:]</span>
     <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;year&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
     <span class="p">[</span><span class="s1">&#39;sum&#39;</span><span class="p">]</span>
     <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">,</span> 
           <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> 
           <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> 
           <span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> 
           <span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
           <span class="n">label</span><span class="o">=</span><span class="n">genre</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Sales by genre&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Millions&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/6c72f44dc85d476c639b6afc01e5ff24b359acc10bf678291dd31d574f2ff999.png" src="_images/6c72f44dc85d476c639b6afc01e5ff24b359acc10bf678291dd31d574f2ff999.png" />
</div>
</div>
<p><a id='JP_genres'></a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">genre</span> <span class="ow">in</span> <span class="n">jp_stat</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">levels</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
    <span class="p">(</span><span class="n">jp_stat</span>
     <span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">IndexSlice</span><span class="p">[:,</span> <span class="n">genre</span><span class="p">,</span> <span class="p">:],</span> <span class="p">:]</span>
     <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;year&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
     <span class="p">[</span><span class="s1">&#39;part&#39;</span><span class="p">]</span>
     <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">,</span> 
           <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> 
           <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> 
           <span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> 
           <span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
           <span class="n">label</span><span class="o">=</span><span class="n">genre</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Share of sales by genre&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Share&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/1ff807fe29df6ec9ba0d0f5ac650ffb67fc089c68c869b20d558f8aef6213ec8.png" src="_images/1ff807fe29df6ec9ba0d0f5ac650ffb67fc089c68c869b20d558f8aef6213ec8.png" />
</div>
</div>
<p>Something strange happened in 2015. Maybe some innovative game in the Action genre came out? However, in the future, role-playing games promise to come back to the forefront.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">jp_rating</span> <span class="o">=</span> <span class="p">(</span><span class="n">data_new</span>
             <span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;rating&#39;</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span><span class="p">],</span> 
                          <span class="n">values</span><span class="o">=</span><span class="s1">&#39;JP_sales&#39;</span><span class="p">,</span>
                          <span class="n">aggfunc</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;median&#39;</span><span class="p">,</span> <span class="s1">&#39;sum&#39;</span><span class="p">])</span>
             <span class="o">.</span><span class="n">droplevel</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">jp_rating</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="n">jp_rating</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;part&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;sum&#39;</span><span class="p">]</span> <span class="o">/</span> 
                                    <span class="n">jp_rating</span><span class="p">[</span><span class="s1">&#39;sum&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;year&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()[</span><span class="n">index</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span>
<span class="n">jp_rating</span><span class="o">.</span><span class="n">tail</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>   
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>count</th>
      <th>mean</th>
      <th>median</th>
      <th>sum</th>
      <th>part</th>
    </tr>
    <tr>
      <th>rating</th>
      <th>year</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="2" valign="top">M</th>
      <th>2015</th>
      <td>71</td>
      <td>0.043521</td>
      <td>0.00</td>
      <td>3.09</td>
      <td>0.090642</td>
    </tr>
    <tr>
      <th>2016</th>
      <td>78</td>
      <td>0.015385</td>
      <td>0.00</td>
      <td>1.20</td>
      <td>0.062144</td>
    </tr>
    <tr>
      <th rowspan="4" valign="top">T</th>
      <th>2013</th>
      <td>62</td>
      <td>0.093710</td>
      <td>0.05</td>
      <td>5.81</td>
      <td>0.121828</td>
    </tr>
    <tr>
      <th>2014</th>
      <td>79</td>
      <td>0.089620</td>
      <td>0.02</td>
      <td>7.08</td>
      <td>0.178382</td>
    </tr>
    <tr>
      <th>2015</th>
      <td>106</td>
      <td>0.051226</td>
      <td>0.02</td>
      <td>5.43</td>
      <td>0.159284</td>
    </tr>
    <tr>
      <th>2016</th>
      <td>86</td>
      <td>0.026395</td>
      <td>0.00</td>
      <td>2.27</td>
      <td>0.117556</td>
    </tr>
    <tr>
      <th rowspan="4" valign="top">unknown</th>
      <th>2013</th>
      <td>228</td>
      <td>0.123465</td>
      <td>0.03</td>
      <td>28.15</td>
      <td>0.590270</td>
    </tr>
    <tr>
      <th>2014</th>
      <td>236</td>
      <td>0.101737</td>
      <td>0.02</td>
      <td>24.01</td>
      <td>0.604938</td>
    </tr>
    <tr>
      <th>2015</th>
      <td>291</td>
      <td>0.063814</td>
      <td>0.02</td>
      <td>18.57</td>
      <td>0.544735</td>
    </tr>
    <tr>
      <th>2016</th>
      <td>222</td>
      <td>0.064505</td>
      <td>0.02</td>
      <td>14.32</td>
      <td>0.741585</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">jp_known_rating</span> <span class="o">=</span> <span class="p">(</span><span class="n">data_new</span>
                   <span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;rating != &quot;unknown&quot;&#39;</span><span class="p">)</span>
                   <span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;rating&#39;</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span><span class="p">],</span> 
                                <span class="n">values</span><span class="o">=</span><span class="s1">&#39;JP_sales&#39;</span><span class="p">,</span> 
                                <span class="n">aggfunc</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;median&#39;</span><span class="p">,</span> <span class="s1">&#39;sum&#39;</span><span class="p">])</span>
                   <span class="o">.</span><span class="n">droplevel</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">jp_known_rating</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="n">jp_known_rating</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;part&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;sum&#39;</span><span class="p">]</span> <span class="o">/</span> 
                                    <span class="n">jp_known_rating</span><span class="p">[</span><span class="s1">&#39;sum&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;year&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()[</span><span class="n">index</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span>
<span class="n">jp_known_rating</span><span class="o">.</span><span class="n">tail</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>   
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>count</th>
      <th>mean</th>
      <th>median</th>
      <th>sum</th>
      <th>part</th>
    </tr>
    <tr>
      <th>rating</th>
      <th>year</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="2" valign="top">E10+</th>
      <th>2015</th>
      <td>51</td>
      <td>0.055294</td>
      <td>0.00</td>
      <td>2.82</td>
      <td>0.181701</td>
    </tr>
    <tr>
      <th>2016</th>
      <td>50</td>
      <td>0.009000</td>
      <td>0.00</td>
      <td>0.45</td>
      <td>0.090180</td>
    </tr>
    <tr>
      <th rowspan="4" valign="top">M</th>
      <th>2013</th>
      <td>104</td>
      <td>0.058654</td>
      <td>0.01</td>
      <td>6.10</td>
      <td>0.312180</td>
    </tr>
    <tr>
      <th>2014</th>
      <td>116</td>
      <td>0.032069</td>
      <td>0.00</td>
      <td>3.72</td>
      <td>0.237245</td>
    </tr>
    <tr>
      <th>2015</th>
      <td>71</td>
      <td>0.043521</td>
      <td>0.00</td>
      <td>3.09</td>
      <td>0.199098</td>
    </tr>
    <tr>
      <th>2016</th>
      <td>78</td>
      <td>0.015385</td>
      <td>0.00</td>
      <td>1.20</td>
      <td>0.240481</td>
    </tr>
    <tr>
      <th rowspan="4" valign="top">T</th>
      <th>2013</th>
      <td>62</td>
      <td>0.093710</td>
      <td>0.05</td>
      <td>5.81</td>
      <td>0.297339</td>
    </tr>
    <tr>
      <th>2014</th>
      <td>79</td>
      <td>0.089620</td>
      <td>0.02</td>
      <td>7.08</td>
      <td>0.451531</td>
    </tr>
    <tr>
      <th>2015</th>
      <td>106</td>
      <td>0.051226</td>
      <td>0.02</td>
      <td>5.43</td>
      <td>0.349871</td>
    </tr>
    <tr>
      <th>2016</th>
      <td>86</td>
      <td>0.026395</td>
      <td>0.00</td>
      <td>2.27</td>
      <td>0.454910</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Let’s compare the age ratings.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">jp_rating</span><span class="p">[</span><span class="s1">&#39;sum&#39;</span><span class="p">]</span>
 <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;rating&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
 <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
 <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Total sales by rating for the current period&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Millions&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Age rating&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/3a948f2cca8ef8749981cf946f1984e129a9eb949417a41118bbdc22d9ea9c15.png" src="_images/3a948f2cca8ef8749981cf946f1984e129a9eb949417a41118bbdc22d9ea9c15.png" />
</div>
</div>
<p>Perhaps it was Japan that was shifting the global share of games with uncertain ratings. I wonder if this has anything to do with the rise of this category in 2015.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">jp_rating</span>
 <span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">IndexSlice</span><span class="p">[:,</span> <span class="mi">2015</span><span class="p">],</span> <span class="p">:]</span>
 <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;rating&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
 <span class="p">[</span><span class="s1">&#39;sum&#39;</span><span class="p">]</span>
 <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
 <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Total sales by rating in 2015&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Millions&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Age rating&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/e7966c2117592dd3af6fe1035c43611ffb287005797f47e954357ac7198b2d46.png" src="_images/e7966c2117592dd3af6fe1035c43611ffb287005797f47e954357ac7198b2d46.png" />
</div>
</div>
<p>Apparently not. On the contrary, less than 1/5th of the total number of games with undetermined ratings were released in 2015. In total, the numbers add up to 80 million, if we take into account the ones that could be included in other_sales. In other words, the rise of 2015 is diluted across all regions.</p>
<p>This distribution may be due to the fact that ESRB is a US rating and games released in Japan for the local market do not pass it.</p>
<p><a id='JP_rating'></a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">rating</span> <span class="ow">in</span> <span class="n">jp_known_rating</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">levels</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
    <span class="p">(</span><span class="n">jp_known_rating</span>
     <span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">IndexSlice</span><span class="p">[</span><span class="n">rating</span><span class="p">,</span> <span class="p">:]]</span>
     <span class="p">[</span><span class="s1">&#39;part&#39;</span><span class="p">]</span>
     <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">,</span> 
           <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> 
           <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> 
           <span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> 
           <span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
           <span class="n">label</span><span class="o">=</span><span class="n">rating</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Sales by rating&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/22927a0ad48fa6baad0180fe4d72de42c344c03c6a759cbd1c04c847394e2fe7.png" src="_images/22927a0ad48fa6baad0180fe4d72de42c344c03c6a759cbd1c04c847394e2fe7.png" />
</div>
</div>
<p>Otherwise, the priorities are different. In addition to the classic E and M, the T rating, i.e. 13+, shows high sales.</p>
</section>
</section>
<section id="hypothesis-testing">
<h2>Hypothesis testing<a class="headerlink" href="#hypothesis-testing" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data_new</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>platform</th>
      <th>year</th>
      <th>genre</th>
      <th>NA_sales</th>
      <th>EU_sales</th>
      <th>JP_sales</th>
      <th>other_sales</th>
      <th>critic_score</th>
      <th>user_score</th>
      <th>rating</th>
      <th>sales</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>16</th>
      <td>Grand Theft Auto V</td>
      <td>PS3</td>
      <td>2013</td>
      <td>Action</td>
      <td>7.02</td>
      <td>9.09</td>
      <td>0.98</td>
      <td>3.96</td>
      <td>97.0</td>
      <td>8.2</td>
      <td>M</td>
      <td>21.05</td>
    </tr>
    <tr>
      <th>23</th>
      <td>Grand Theft Auto V</td>
      <td>X360</td>
      <td>2013</td>
      <td>Action</td>
      <td>9.66</td>
      <td>5.14</td>
      <td>0.06</td>
      <td>1.41</td>
      <td>97.0</td>
      <td>8.1</td>
      <td>M</td>
      <td>16.27</td>
    </tr>
    <tr>
      <th>31</th>
      <td>Call of Duty: Black Ops 3</td>
      <td>PS4</td>
      <td>2015</td>
      <td>Shooter</td>
      <td>6.03</td>
      <td>5.86</td>
      <td>0.36</td>
      <td>2.38</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>unknown</td>
      <td>14.63</td>
    </tr>
    <tr>
      <th>33</th>
      <td>Pokemon X/Pokemon Y</td>
      <td>3DS</td>
      <td>2013</td>
      <td>Role-Playing</td>
      <td>5.28</td>
      <td>4.19</td>
      <td>4.35</td>
      <td>0.78</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>unknown</td>
      <td>14.60</td>
    </tr>
    <tr>
      <th>42</th>
      <td>Grand Theft Auto V</td>
      <td>PS4</td>
      <td>2014</td>
      <td>Action</td>
      <td>3.96</td>
      <td>6.31</td>
      <td>0.38</td>
      <td>1.97</td>
      <td>97.0</td>
      <td>8.3</td>
      <td>M</td>
      <td>12.62</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>16432</th>
      <td>Strawberry Nauts</td>
      <td>PSV</td>
      <td>2016</td>
      <td>Adventure</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.01</td>
      <td>0.00</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>unknown</td>
      <td>0.01</td>
    </tr>
    <tr>
      <th>16436</th>
      <td>Aiyoku no Eustia</td>
      <td>PSV</td>
      <td>2014</td>
      <td>Misc</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.01</td>
      <td>0.00</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>unknown</td>
      <td>0.01</td>
    </tr>
    <tr>
      <th>16439</th>
      <td>Samurai Warriors: Sanada Maru</td>
      <td>PS3</td>
      <td>2016</td>
      <td>Action</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.01</td>
      <td>0.00</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>unknown</td>
      <td>0.01</td>
    </tr>
    <tr>
      <th>16441</th>
      <td>Haitaka no Psychedelica</td>
      <td>PSV</td>
      <td>2016</td>
      <td>Adventure</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.01</td>
      <td>0.00</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>unknown</td>
      <td>0.01</td>
    </tr>
    <tr>
      <th>16443</th>
      <td>Winning Post 8 2016</td>
      <td>PSV</td>
      <td>2016</td>
      <td>Simulation</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.01</td>
      <td>0.00</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>unknown</td>
      <td>0.01</td>
    </tr>
  </tbody>
</table>
<p>2233 rows × 12 columns</p>
</div></div></div>
</div>
<p>We test two proposed hypotheses.</p>
<section id="the-xone-and-pc-scores-are-the-same">
<h3>The XOne and PC scores are the same.<a class="headerlink" href="#the-xone-and-pc-scores-are-the-same" title="Link to this heading">#</a></h3>
<p>The hypothesis that the average user scores of Xbox One and PC platforms are the same is tested.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">xone_data_new</span> <span class="o">=</span> <span class="n">data_new</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;platform == &quot;XOne&quot;&#39;</span><span class="p">)</span>
<span class="n">xone_data_new</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
Int64Index: 247 entries, 99 to 16401
Data columns (total 12 columns):
 #   Column        Non-Null Count  Dtype  
---  ------        --------------  -----  
 0   name          247 non-null    object 
 1   platform      247 non-null    object 
 2   year          247 non-null    int64  
 3   genre         247 non-null    object 
 4   NA_sales      247 non-null    float64
 5   EU_sales      247 non-null    float64
 6   JP_sales      247 non-null    float64
 7   other_sales   247 non-null    float64
 8   critic_score  169 non-null    float64
 9   user_score    182 non-null    float64
 10  rating        247 non-null    object 
 11  sales         247 non-null    float64
dtypes: float64(7), int64(1), object(4)
memory usage: 25.1+ KB
</pre></div>
</div>
</div>
</div>
<p>About 50 gaps.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pc_data_new</span> <span class="o">=</span> <span class="n">data_new</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;platform == &quot;PC&quot;&#39;</span><span class="p">)</span>
<span class="n">pc_data_new</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
Int64Index: 189 entries, 455 to 16421
Data columns (total 12 columns):
 #   Column        Non-Null Count  Dtype  
---  ------        --------------  -----  
 0   name          189 non-null    object 
 1   platform      189 non-null    object 
 2   year          189 non-null    int64  
 3   genre         189 non-null    object 
 4   NA_sales      189 non-null    float64
 5   EU_sales      189 non-null    float64
 6   JP_sales      189 non-null    float64
 7   other_sales   189 non-null    float64
 8   critic_score  149 non-null    float64
 9   user_score    155 non-null    float64
 10  rating        189 non-null    object 
 11  sales         189 non-null    float64
dtypes: float64(7), int64(1), object(4)
memory usage: 19.2+ KB
</pre></div>
</div>
</div>
</div>
<p>Here’s about 40.</p>
<p>It is logical to assume that the samples are independent. If critics can still play the same games on different platforms, players are unlikely.</p>
<p><span class="math notranslate nohighlight">\({H_0}\)</span> – there is no difference between the averages of statistical populations from which these samples have been taken</p>
<p><span class="math notranslate nohighlight">\({H_1}\)</span> – there’s a difference between the averages</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">test_result</span> <span class="o">=</span> <span class="p">(</span><span class="n">st</span><span class="o">.</span><span class="n">ttest_ind</span><span class="p">(</span><span class="n">xone_data_new</span><span class="p">[</span><span class="s1">&#39;user_score&#39;</span><span class="p">],</span> 
                            <span class="n">pc_data_new</span><span class="p">[</span><span class="s1">&#39;user_score&#39;</span><span class="p">],</span> 
                            <span class="n">equal_var</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> 
                            <span class="n">nan_policy</span><span class="o">=</span><span class="s1">&#39;omit&#39;</span><span class="p">))</span>
<span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.05</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;p-value: &#39;</span><span class="p">,</span> <span class="n">test_result</span><span class="o">.</span><span class="n">pvalue</span><span class="p">)</span>

<span class="k">if</span> <span class="n">test_result</span><span class="o">.</span><span class="n">pvalue</span> <span class="o">&lt;</span> <span class="n">alpha</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Rejecting the null hypothesis&#39;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Failed to reject the null hypothesis&#39;</span><span class="p">)</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>p-value:  0.1475959401343032
Failed to reject the null hypothesis
</pre></div>
</div>
</div>
</div>
<p>Well, no means no. I didn’t really feel like it.</p>
<p>Let’s check the distributions just in case.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">xone_data_new</span><span class="p">[</span><span class="s1">&#39;user_score&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;XOne&#39;</span><span class="p">)</span>
<span class="n">pc_data_new</span><span class="p">[</span><span class="s1">&#39;user_score&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;PC&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/1e40ec9b11c734bc851f20f18dbc59a767ed2ff4ca5ba23ae9a0f8244dd6cbae.png" src="_images/1e40ec9b11c734bc851f20f18dbc59a767ed2ff4ca5ba23ae9a0f8244dd6cbae.png" />
</div>
</div>
<p>Really similar ratings.</p>
<p>It turns out there’s no difference.</p>
</section>
<section id="action-and-sports-scores-are-different">
<h3>Action and Sports scores are different.<a class="headerlink" href="#action-and-sports-scores-are-different" title="Link to this heading">#</a></h3>
<p>The hypothesis that the user scores of Action and Sports genres are different is tested.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">action_data_new</span> <span class="o">=</span> <span class="n">data_new</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;genre == &quot;Action&quot;&#39;</span><span class="p">)</span>
<span class="n">action_data_new</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
Int64Index: 766 entries, 16 to 16439
Data columns (total 12 columns):
 #   Column        Non-Null Count  Dtype  
---  ------        --------------  -----  
 0   name          766 non-null    object 
 1   platform      766 non-null    object 
 2   year          766 non-null    int64  
 3   genre         766 non-null    object 
 4   NA_sales      766 non-null    float64
 5   EU_sales      766 non-null    float64
 6   JP_sales      766 non-null    float64
 7   other_sales   766 non-null    float64
 8   critic_score  313 non-null    float64
 9   user_score    389 non-null    float64
 10  rating        766 non-null    object 
 11  sales         766 non-null    float64
dtypes: float64(7), int64(1), object(4)
memory usage: 77.8+ KB
</pre></div>
</div>
</div>
</div>
<p>It’s not such a rosy picture with skips. Almost half.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sports_data_new</span> <span class="o">=</span> <span class="n">data_new</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;genre == &quot;Sports&quot;&#39;</span><span class="p">)</span>
<span class="n">sports_data_new</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
Int64Index: 214 entries, 77 to 16372
Data columns (total 12 columns):
 #   Column        Non-Null Count  Dtype  
---  ------        --------------  -----  
 0   name          214 non-null    object 
 1   platform      214 non-null    object 
 2   year          214 non-null    int64  
 3   genre         214 non-null    object 
 4   NA_sales      214 non-null    float64
 5   EU_sales      214 non-null    float64
 6   JP_sales      214 non-null    float64
 7   other_sales   214 non-null    float64
 8   critic_score  112 non-null    float64
 9   user_score    160 non-null    float64
 10  rating        214 non-null    object 
 11  sales         214 non-null    float64
dtypes: float64(7), int64(1), object(4)
memory usage: 21.7+ KB
</pre></div>
</div>
</div>
</div>
<p>Here’s about 20%.</p>
<p>The situation is the same. Samples are assumed to be independent, the more so a game can be either of one genre or another.</p>
<p><span class="math notranslate nohighlight">\({H_0}\)</span> – there is no difference between the averages of statistical populations from which these samples have been taken</p>
<p><span class="math notranslate nohighlight">\({H_1}\)</span> – there’s a difference between the averages</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">test_result</span> <span class="o">=</span> <span class="p">(</span><span class="n">st</span><span class="o">.</span><span class="n">ttest_ind</span><span class="p">(</span><span class="n">action_data_new</span><span class="p">[</span><span class="s1">&#39;user_score&#39;</span><span class="p">],</span> 
                            <span class="n">sports_data_new</span><span class="p">[</span><span class="s1">&#39;user_score&#39;</span><span class="p">],</span> 
                            <span class="n">equal_var</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> 
                            <span class="n">nan_policy</span><span class="o">=</span><span class="s1">&#39;omit&#39;</span><span class="p">))</span>
<span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.05</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;p-value: &#39;</span><span class="p">,</span> <span class="n">test_result</span><span class="o">.</span><span class="n">pvalue</span><span class="p">)</span>

<span class="k">if</span> <span class="n">test_result</span><span class="o">.</span><span class="n">pvalue</span> <span class="o">&lt;</span> <span class="n">alpha</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Rejecting the null hypothesis&#39;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Failed to reject the null hypothesis&#39;</span><span class="p">)</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>p-value:  1.4460039700703482e-20
Rejecting the null hypothesis
</pre></div>
</div>
</div>
</div>
<p>Suddenly.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">action_data_new</span><span class="p">[</span><span class="s1">&#39;user_score&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Action&#39;</span><span class="p">)</span>
<span class="n">sports_data_new</span><span class="p">[</span><span class="s1">&#39;user_score&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Sports&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/4e74483ccd52834f2cfdadbc651d1a4d8c50686933c5cad5b0294bca17720d12.png" src="_images/4e74483ccd52834f2cfdadbc651d1a4d8c50686933c5cad5b0294bca17720d12.png" />
</div>
</div>
<p>The size of the samples shouldn’t affect the result, right?</p>
<p>I don’t think so.</p>
<p>So there really is a difference in the ratings.</p>
</section>
</section>
<section id="conclusions">
<h2>Conclusions<a class="headerlink" href="#conclusions" title="Link to this heading">#</a></h2>
<ol class="arabic simple">
<li><p>Data features</p>
<ul class="simple">
<li><p>There are missing values in the data among user and critic scores and age rating values. There are about 40% of each type.</p></li>
<li><p>In addition to the gaps in user scores, there are special “to be determined” rows, which are distributed over time approximately <a class="reference internal" href="#tbd"><span class="xref myst">the same</span></a> as the whole dataset, namely, they are almost absent before 2002 and after 2011.</p></li>
<li><p>The period from 2013 to 2016 was taken for analysis, and the data for 2016 is clearly incomplete.</p></li>
</ul>
</li>
<li><p>Patterns in the data</p>
<ul class="simple">
<li><p>Platforms are safely <a class="reference internal" href="#platfroms"><span class="xref myst">changing</span></a> across their series. XOne replaces X360, and PS4 replaces PS3, and almost completely.</p></li>
<li><p>They also promise to maintain leadership in the <a class="reference internal" href="#future_platfroms"><span class="xref myst">future</span></a>.</p></li>
<li><p>The data is heavily skewed to the right, meaning most games sell <a class="reference internal" href="#new_platforms"><span class="xref myst">poorly</span></a>, but there are a number of best sellers in all <a class="reference internal" href="#genres"><span class="xref myst">genres</span></a>.</p></li>
<li><p>Well selling games tend to have above average ratings, however many games with high ratings sell <a class="reference internal" href="#success"><span class="xref myst">poorly</span></a> and there is no direct correlation so a high score (by both players and experts) does not mean the game will sell well.</p></li>
<li><p>Games with an age rating of M (17+) or E (for all ages) sell the most often. However, it is hard to say what will be more popular in the future, because the data for 2016 is incomplete and the data for 2015 has a lot of undefined <a class="reference internal" href="#unknown_rating"><span class="xref myst">ratings</span></a>.</p></li>
</ul>
</li>
<li><p>Player profiles</p>
<ul class="simple">
<li><p>In North America, the most <a class="reference internal" href="#NA_platforms"><span class="xref myst">popular</span></a> promise to be PS4 and Xbox One. The 3DS is in third place, but it doesn’t pose much competition. The most stable revenue <a class="reference internal" href="#NA_genres"><span class="xref myst">show</span></a> genres Shooter, Platform and Sports. Games with an age rating of 17+ sell the best.</p></li>
<li><p>In Europe, the situation is similar, but XOne is strongly <a class="reference internal" href="#EU_platforms"><span class="xref myst">behind</span></a> PS4. The most popular genres <a class="reference internal" href="#EU_genres"><span class="xref myst">are</span></a> Action, Shooter, Sports and Role-Playing, with Action games falling and Shooter and Role-Playing games rising.</p></li>
<li><p>In Japan, the situation is different. The 3DS is the most popular platform, while there is no XBox series at all. PS4 and PSV are present and even growing, but they are still behind <a class="reference internal" href="#JP_platforms"><span class="xref myst">3DS</span></a>. The most popular genres are <a class="reference internal" href="#JP_genres"><span class="xref myst">action and role-playing games</span></a>. Instead of M and E ages, <a class="reference internal" href="#JP_rating"><span class="xref myst">13+</span></a> games hold the top spot.</p></li>
</ul>
</li>
<li><p>Hypothesis testing</p>
<ul class="simple">
<li><p>As an experiment, it was shown that the user scores for PC and XBox are the same.</p></li>
<li><p>At the same time, the score of action games is significantly higher than the one of sports games.</p></li>
</ul>
</li>
</ol>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="tariff_stats.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Tariff statistics</p>
      </div>
    </a>
    <a class="right-next"
       href="tariff_recommendation.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Tariff recommendation</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-evaluation">Data evaluation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-preprocessing">Data preprocessing</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#missing-values">Missing values</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#total-sales">Total sales</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#check-for-duplicates">Check for duplicates</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exploratory-data-analysis">Exploratory data analysis</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#games-by-year">Games by year</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#games-by-platform">Games by platform</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sales-for-the-current-period">Sales for the current period</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sales-spread-by-platform">Sales spread by platform</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#correlation-between-scores-and-sales">Correlation between scores and sales</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sales-by-genre">Sales by genre</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sales-by-rating">Sales by rating</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#user-profiles">User profiles</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#north-america">North America</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#europe">Europe</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#japan">Japan</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#hypothesis-testing">Hypothesis testing</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-xone-and-pc-scores-are-the-same">The XOne and PC scores are the same.</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#action-and-sports-scores-are-different">Action and Sports scores are different.</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusions">Conclusions</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Leonid Dybovskii
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>